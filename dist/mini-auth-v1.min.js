!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e["mini-auth-v1"],r=e["mini-auth-v1"]={};t(r),r.noConflict=function(){return e["mini-auth-v1"]=n,r}}())}(this,(function(e){"use strict";function t(){}function n(){n.init.call(this)}function r(e){return void 0===e._maxListeners?n.defaultMaxListeners:e._maxListeners}function o(e,t,n){if(t)e.call(n);else for(var r=e.length,o=p(e,r),i=0;i<r;++i)o[i].call(n)}function i(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,i=p(e,o),a=0;a<o;++a)i[a].call(n,r)}function a(e,t,n,r,o){if(t)e.call(n,r,o);else for(var i=e.length,a=p(e,i),u=0;u<i;++u)a[u].call(n,r,o)}function u(e,t,n,r,o,i){if(t)e.call(n,r,o,i);else for(var a=e.length,u=p(e,a),s=0;s<a;++s)u[s].call(n,r,o,i)}function s(e,t,n,r){if(t)e.apply(n,r);else for(var o=e.length,i=p(e,o),a=0;a<o;++a)i[a].apply(n,r)}function c(e,n,o,i){var a,u,s,c;if("function"!=typeof o)throw new TypeError('"listener" argument must be a function');if((u=e._events)?(u.newListener&&(e.emit("newListener",n,o.listener?o.listener:o),u=e._events),s=u[n]):(u=e._events=new t,e._eventsCount=0),s){if("function"==typeof s?s=u[n]=i?[o,s]:[s,o]:i?s.unshift(o):s.push(o),!s.warned&&(a=r(e))&&a>0&&s.length>a){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+n+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=n,f.count=s.length,c=f,"function"==typeof console.warn?console.warn(c):console.log(c)}}else s=u[n]=o,++e._eventsCount;return e}function f(e,t,n){var r=!1;function o(){e.removeListener(t,o),r||(r=!0,n.apply(e,arguments))}return o.listener=n,o}function l(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function p(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}t.prototype=Object.create(null),n.EventEmitter=n,n.usingDomains=!1,n.prototype.domain=void 0,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.init=function(){this.domain=null,n.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new t,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},n.prototype.getMaxListeners=function(){return r(this)},n.prototype.emit=function(e){var t,n,r,c,f,l,p,h="error"===e;if(l=this._events)h=h&&null==l.error;else if(!h)return!1;if(p=this.domain,h){if(t=arguments[1],!p){if(t instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=p,t.domainThrown=!1,p.emit("error",t),!1}if(!(n=l[e]))return!1;var y="function"==typeof n;switch(r=arguments.length){case 1:o(n,y,this);break;case 2:i(n,y,this,arguments[1]);break;case 3:a(n,y,this,arguments[1],arguments[2]);break;case 4:u(n,y,this,arguments[1],arguments[2],arguments[3]);break;default:for(c=new Array(r-1),f=1;f<r;f++)c[f-1]=arguments[f];s(n,y,this,c)}return!0},n.prototype.addListener=function(e,t){return c(this,e,t,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(e,t){return c(this,e,t,!0)},n.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,f(this,e,t)),this},n.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,f(this,e,t)),this},n.prototype.removeListener=function(e,n){var r,o,i,a,u;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(r=o[e]))return this;if(r===n||r.listener&&r.listener===n)0==--this._eventsCount?this._events=new t:(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||n));else if("function"!=typeof r){for(i=-1,a=r.length;a-- >0;)if(r[a]===n||r[a].listener&&r[a].listener===n){u=r[a].listener,i=a;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new t,this;delete o[e]}else!function(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(r,i);o.removeListener&&this.emit("removeListener",e,u||n)}return this},n.prototype.removeAllListeners=function(e){var n,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new t,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new t:delete r[e]),this;if(0===arguments.length){for(var o,i=Object.keys(r),a=0;a<i.length;++a)"removeListener"!==(o=i[a])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new t,this._eventsCount=0,this}if("function"==typeof(n=r[e]))this.removeListener(e,n);else if(n)do{this.removeListener(e,n[n.length-1])}while(n[0]);return this},n.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):l.call(e,t)},n.prototype.listenerCount=l,n.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var h="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};function d(){var e;n.call(this),this.__emitError=(e=this,function(t){e.emit("error",t)})}function y(){return new d}h(d,n),d.prototype.add=function(e){e.on("error",this.__emitError)},d.prototype.remove=function(e){e.removeListener("error",this.__emitError)},d.prototype.bind=function(e){var t=this.__emitError;return function(){var n=Array.prototype.slice.call(arguments);try{e.apply(null,n)}catch(e){t(e)}}},d.prototype.intercept=function(e){var t=this.__emitError;return function(n){if(n)t(n);else{var r=Array.prototype.slice.call(arguments,1);try{e.apply(null,r)}catch(n){t(n)}}}},d.prototype.run=function(e){var t=this.__emitError;try{e()}catch(e){t(e)}return this},d.prototype.dispose=function(){return this.removeAllListeners(),this},d.prototype.enter=d.prototype.exit=function(){return this};var v,g={Domain:d,createDomain:y,create:y},m="function"==typeof setImmediate,b=w;function w(e){_.length||(k(),j=!0),_[_.length]=e}var _=[],j=!1,O=0;function S(){for(;O<_.length;){var e=O;if(O+=1,_[e].call(),O>1024){for(var t=0,n=_.length-O;t<n;t++)_[t]=_[t+O];_.length-=O,O=0}}_.length=0,O=0,j=!1}function k(){var e=process.domain;e&&(v||(v=g),v.active=process.domain=null),j&&m?setImmediate(S):process.nextTick(S),e&&(v.active=process.domain=e)}function x(){}w.requestFlush=k;var E=null,C={};var P=T;function T(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._h=0,this._i=0,this._j=null,this._k=null,e!==x&&z(e,this)}function A(e,t){for(;3===e._i;)e=e._j;if(T._l&&T._l(e),0===e._i)return 0===e._h?(e._h=1,void(e._k=t)):1===e._h?(e._h=2,void(e._k=[e._k,t])):void e._k.push(t);!function(e,t){b((function(){var n=1===e._i?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return E=e,C}}(n,e._j);r===C?M(t.promise,E):R(t.promise,r)}else 1===e._i?R(t.promise,e._j):M(t.promise,e._j)}))}(e,t)}function R(e,t){if(t===e)return M(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return E=e,C}}(t);if(n===C)return M(e,E);if(n===e.then&&t instanceof T)return e._i=3,e._j=t,void L(e);if("function"==typeof n)return void z(n.bind(t),e)}e._i=1,e._j=t,L(e)}function M(e,t){e._i=2,e._j=t,T._m&&T._m(e,t),L(e)}function L(e){if(1===e._h&&(A(e,e._k),e._k=null),2===e._h){for(var t=0;t<e._k.length;t++)A(e,e._k[t]);e._k=null}}function D(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function z(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return E=e,C}}(e,(function(e){n||(n=!0,R(t,e))}),(function(e){n||(n=!0,M(t,e))}));n||r!==C||(n=!0,M(t,E))}T._l=null,T._m=null,T._n=x,T.prototype.then=function(e,t){if(this.constructor!==T)return function(e,t,n){return new e.constructor((function(r,o){var i=new T(x);i.then(r,o),A(e,new D(t,n,i))}))}(this,e,t);var n=new T(x);return A(this,new D(e,t,n)),n},P.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,(function(e){setTimeout((function(){throw e}),0)}))},P.prototype.finally=function(e){return this.then((function(t){return P.resolve(e()).then((function(){return t}))}),(function(t){return P.resolve(e()).then((function(){throw t}))}))};var N=V(!0),q=V(!1),I=V(null),F=V(void 0),$=V(0),W=V("");function V(e){var t=new P(P._n);return t._i=1,t._j=e,t}P.resolve=function(e){if(e instanceof P)return e;if(null===e)return I;if(void 0===e)return F;if(!0===e)return N;if(!1===e)return q;if(0===e)return $;if(""===e)return W;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new P(t.bind(e))}catch(e){return new P((function(t,n){n(e)}))}return V(e)},P.all=function(e){var t=Array.prototype.slice.call(e);return new P((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof P&&a.then===P.prototype.then){for(;3===a._i;)a=a._j;return 1===a._i?o(i,a._j):(2===a._i&&n(a._j),void a.then((function(e){o(i,e)}),n))}var u=a.then;if("function"==typeof u)return void new P(u.bind(a)).then((function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}for(var i=0;i<t.length;i++)o(i,t[i])}))},P.reject=function(e){return new P((function(t,n){n(e)}))},P.race=function(e){return new P((function(t,n){e.forEach((function(e){P.resolve(e).then(t,n)}))}))},P.prototype.catch=function(e){return this.then(null,e)};var U=[],B=function(e){var t;t=U.length?U.pop():new H;t.task=e,t.domain=process.domain,b(t)};function H(){this.task=null,this.domain=null}H.prototype.call=function(){this.domain&&this.domain.enter();var e=!0;try{this.task.call(),e=!1,this.domain&&this.domain.exit()}finally{e&&b.requestFlush(),this.task=null,this.domain=null,U.push(this)}},P.denodeify=function(e,t){return"number"==typeof t&&t!==1/0?function(e,t){for(var n=[],r=0;r<t;r++)n.push("a"+r);var o=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([J]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(P,e)}(e,t):function(e){for(var t=Math.max(e.length-1,3),n=[],r=0;r<t;r++)n.push("a"+r);var o=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+J+";","var res;","switch (argLength) {",n.concat(["extra"]).map((function(e,t){return"case "+t+":res = fn.call("+["self"].concat(n.slice(0,t)).concat("cb").join(",")+");break;"})).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(P,e)}(e)};var J="function (err, res) {if (err) { rj(err); } else { rs(res); }}";P.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,r=this;try{return e.apply(this,arguments).nodeify(n,r)}catch(e){if(null==n)return new P((function(t,n){n(e)}));B((function(){n.call(r,e)}))}}},P.prototype.nodeify=function(e,t){if("function"!=typeof e)return this;this.then((function(n){B((function(){e.call(t,null,n)}))}),(function(n){B((function(){e.call(t,n)}))}))},P.enableSynchronous=function(){P.prototype.isPending=function(){return 0==this.getState()},P.prototype.isFulfilled=function(){return 1==this.getState()},P.prototype.isRejected=function(){return 2==this.getState()},P.prototype.getValue=function(){if(3===this._i)return this._j.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._j},P.prototype.getReason=function(){if(3===this._i)return this._j.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._j},P.prototype.getState=function(){return 3===this._i?this._j.getState():-1===this._i||-2===this._i?0:this._i}},P.disableSynchronous=function(){P.prototype.isPending=void 0,P.prototype.isFulfilled=void 0,P.prototype.isRejected=void 0,P.prototype.getValue=void 0,P.prototype.getReason=void 0,P.prototype.getState=void 0};var G=P;function K(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Q(e,t){return e(t={exports:{}},t.exports),t.exports}var Y=Q((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,l=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case f:case l:case i:case u:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case s:return e;default:return t}}case y:case d:case o:return t}}}function g(e){return v(e)===l}t.typeOf=v,t.AsyncMode=f,t.ConcurrentMode=l,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=y,t.Memo=d,t.Portal=o,t.Profiler=u,t.StrictMode=a,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===l||e===u||e===a||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===d||e.$$typeof===s||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return g(e)||v(e)===f},t.isConcurrentMode=g,t.isContextConsumer=function(e){return v(e)===c},t.isContextProvider=function(e){return v(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===i},t.isLazy=function(e){return v(e)===y},t.isMemo=function(e){return v(e)===d},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===u},t.isStrictMode=function(e){return v(e)===a},t.isSuspense=function(e){return v(e)===h}}));K(Y),Y.typeOf,Y.AsyncMode,Y.ConcurrentMode,Y.ContextConsumer,Y.ContextProvider,Y.Element,Y.ForwardRef,Y.Fragment,Y.Lazy,Y.Memo,Y.Portal,Y.Profiler,Y.StrictMode,Y.Suspense,Y.isValidElementType,Y.isAsyncMode,Y.isConcurrentMode,Y.isContextConsumer,Y.isContextProvider,Y.isElement,Y.isForwardRef,Y.isFragment,Y.isLazy,Y.isMemo,Y.isPortal,Y.isProfiler,Y.isStrictMode,Y.isSuspense;var Z=Q((function(e,t){"production"!==process.env.NODE_ENV&&function(){Object.defineProperty(t,"__esModule",{value:!0});var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,u=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.memo"):60115,d=e?Symbol.for("react.lazy"):60116;var y=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,(function(){return n[o++]}));"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(e){}},v=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];y.apply(void 0,[t].concat(r))}};function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var y=e.type;switch(y){case c:case f:case o:case a:case i:case p:return y;default:var v=y&&y.$$typeof;switch(v){case s:case l:case u:return v;default:return t}}case d:case h:case r:return t}}}var m=c,b=f,w=s,_=u,j=n,O=l,S=o,k=d,x=h,E=r,C=a,P=i,T=p,A=!1;function R(e){return g(e)===f}t.typeOf=g,t.AsyncMode=m,t.ConcurrentMode=b,t.ContextConsumer=w,t.ContextProvider=_,t.Element=j,t.ForwardRef=O,t.Fragment=S,t.Lazy=k,t.Memo=x,t.Portal=E,t.Profiler=C,t.StrictMode=P,t.Suspense=T,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===a||e===i||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===l)},t.isAsyncMode=function(e){return A||(A=!0,v(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),R(e)||g(e)===c},t.isConcurrentMode=R,t.isContextConsumer=function(e){return g(e)===s},t.isContextProvider=function(e){return g(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return g(e)===l},t.isFragment=function(e){return g(e)===o},t.isLazy=function(e){return g(e)===d},t.isMemo=function(e){return g(e)===h},t.isPortal=function(e){return g(e)===r},t.isProfiler=function(e){return g(e)===a},t.isStrictMode=function(e){return g(e)===i},t.isSuspense=function(e){return g(e)===p}}()}));K(Z),Z.typeOf,Z.AsyncMode,Z.ConcurrentMode,Z.ContextConsumer,Z.ContextProvider,Z.Element,Z.ForwardRef,Z.Fragment,Z.Lazy,Z.Memo,Z.Portal,Z.Profiler,Z.StrictMode,Z.Suspense,Z.isValidElementType,Z.isAsyncMode,Z.isConcurrentMode,Z.isContextConsumer,Z.isContextProvider,Z.isElement,Z.isForwardRef,Z.isFragment,Z.isLazy,Z.isMemo,Z.isPortal,Z.isProfiler,Z.isStrictMode,Z.isSuspense;var X=Q((function(e){"production"===process.env.NODE_ENV?e.exports=Y:e.exports=Z})),ee=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;
/*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  */function re(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var oe=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=re(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))te.call(n,a)&&(o[a]=n[a]);if(ee){r=ee(n);for(var u=0;u<r.length;u++)ne.call(n,r[u])&&(o[r[u]]=n[r[u]])}}return o},ie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ae=function(){};if("production"!==process.env.NODE_ENV){var ue=ie,se={},ce=Function.call.bind(Object.prototype.hasOwnProperty);ae=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function fe(e,t,n,r,o){if("production"!==process.env.NODE_ENV)for(var i in e)if(ce(e,i)){var a;try{if("function"!=typeof e[i]){var u=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.");throw u.name="Invariant Violation",u}a=e[i](t,i,r,n,null,ue)}catch(e){a=e}if(!a||a instanceof Error||ae((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in se)){se[a.message]=!0;var s=o?o():"";ae("Failed "+n+" type: "+a.message+(null!=s?s:""))}}}fe.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(se={})};var le=fe,pe=Function.call.bind(Object.prototype.hasOwnProperty),he=function(){};function de(){return null}"production"!==process.env.NODE_ENV&&(he=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}});var ye=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator;var r="<<anonymous>>",o={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:u(de),arrayOf:function(e){return u((function(t,n,r,o,i){if("function"!=typeof e)return new a("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var u=t[n];if(!Array.isArray(u))return new a("Invalid "+o+" `"+i+"` of type `"+f(u)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<u.length;s++){var c=e(u,s,r,o,i+"["+s+"]",ie);if(c instanceof Error)return c}return null}))},element:u((function(t,n,r,o,i){var u=t[n];return e(u)?null:new a("Invalid "+o+" `"+i+"` of type `"+f(u)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:u((function(e,t,n,r,o){var i=e[t];return X.isValidElementType(i)?null:new a("Invalid "+r+" `"+o+"` of type `"+f(i)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return u((function(t,n,o,i,u){if(!(t[n]instanceof e)){var s=e.name||r;return new a("Invalid "+i+" `"+u+"` of type `"+(((c=t[n]).constructor&&c.constructor.name?c.constructor.name:r)+"` supplied to `")+o+"`, expected instance of `"+s+"`.")}var c;return null}))},node:u((function(e,t,n,r,o){return c(e[t])?null:new a("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return u((function(t,n,r,o,i){if("function"!=typeof e)return new a("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var u=t[n],s=f(u);if("object"!==s)return new a("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var c in u)if(pe(u,c)){var l=e(u,c,r,o,i+"."+c,ie);if(l instanceof Error)return l}return null}))},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&he(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),de;function t(t,n,r,o,u){for(var s=t[n],c=0;c<e.length;c++)if(i(s,e[c]))return null;var f=JSON.stringify(e,(function(e,t){return"symbol"===l(t)?String(t):t}));return new a("Invalid "+o+" `"+u+"` of value `"+String(s)+"` supplied to `"+r+"`, expected one of "+f+".")}return u(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&he("Invalid argument supplied to oneOfType, expected an instance of array."),de;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return he("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+p(n)+" at index "+t+"."),de}return u((function(t,n,r,o,i){for(var u=0;u<e.length;u++)if(null==(0,e[u])(t,n,r,o,i,ie))return null;return new a("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}))},shape:function(e){return u((function(t,n,r,o,i){var u=t[n],s=f(u);if("object"!==s)return new a("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var l=e[c];if(l){var p=l(u,c,r,o,i+"."+c,ie);if(p)return p}}return null}))},exact:function(e){return u((function(t,n,r,o,i){var u=t[n],s=f(u);if("object"!==s)return new a("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");var c=oe({},t[n],e);for(var l in c){var p=e[l];if(!p)return new a("Invalid "+o+" `"+i+"` key `"+l+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=p(u,l,r,o,i+"."+l,ie);if(h)return h}return null}))}};function i(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function a(e){this.message=e,this.stack=""}function u(e){if("production"!==process.env.NODE_ENV)var n={},o=0;function i(i,u,s,c,f,l,p){if(c=c||r,l=l||s,p!==ie){if(t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var d=c+":"+s;!n[d]&&o<3&&(he("You are manually calling a React.PropTypes validation function for the `"+l+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[d]=!0,o++)}}return null==u[s]?i?null===u[s]?new a("The "+f+" `"+l+"` is marked as required in `"+c+"`, but its value is `null`."):new a("The "+f+" `"+l+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(u,s,c,f,l)}var u=i.bind(null,!1);return u.isRequired=i.bind(null,!0),u}function s(e){return u((function(t,n,r,o,i,u){var s=t[n];return f(s)!==e?new a("Invalid "+o+" `"+i+"` of type `"+l(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function c(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!c(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!c(a[1]))return!1}return!0;default:return!1}}function f(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function l(e){if(null==e)return""+e;var t=f(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function p(e){var t=l(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return a.prototype=Error.prototype,o.checkPropTypes=le,o.resetWarningCache=le.resetWarningCache,o.PropTypes=o,o};function ve(){}function ge(){}ge.resetWarningCache=ve;var me=Q((function(e){if("production"!==process.env.NODE_ENV){var t=X;e.exports=ye(t.isElement,!0)}else e.exports=function(){function e(e,t,n,r,o,i){if(i!==ie){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ge,resetWarningCache:ve};return n.PropTypes=n,n}()}));var be=function(){this.__data__=[],this.size=0};var we=function(e,t){return e===t||e!=e&&t!=t};var _e=function(e,t){for(var n=e.length;n--;)if(we(e[n][0],t))return n;return-1},je=Array.prototype.splice;var Oe=function(e){var t=this.__data__,n=_e(t,e);return!(n<0)&&(n==t.length-1?t.pop():je.call(t,n,1),--this.size,!0)};var Se=function(e){var t=this.__data__,n=_e(t,e);return n<0?void 0:t[n][1]};var ke=function(e){return _e(this.__data__,e)>-1};var xe=function(e,t){var n=this.__data__,r=_e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ee.prototype.clear=be,Ee.prototype.delete=Oe,Ee.prototype.get=Se,Ee.prototype.has=ke,Ee.prototype.set=xe;var Ce=Ee;var Pe=function(){this.__data__=new Ce,this.size=0};var Te=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Ae=function(e){return this.__data__.get(e)};var Re=function(e){return this.__data__.has(e)},Me="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Le(e,t){return e(t={exports:{}},t.exports),t.exports}var De="object"==typeof Me&&Me&&Me.Object===Object&&Me,ze="object"==typeof self&&self&&self.Object===Object&&self,Ne=De||ze||Function("return this")(),qe=Ne.Symbol,Ie=Object.prototype,Fe=Ie.hasOwnProperty,$e=Ie.toString,We=qe?qe.toStringTag:void 0;var Ve=function(e){var t=Fe.call(e,We),n=e[We];try{e[We]=void 0;var r=!0}catch(e){}var o=$e.call(e);return r&&(t?e[We]=n:delete e[We]),o},Ue=Object.prototype.toString;var Be=function(e){return Ue.call(e)},He=qe?qe.toStringTag:void 0;var Je=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":He&&He in Object(e)?Ve(e):Be(e)};var Ge=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Ke,Qe=function(e){if(!Ge(e))return!1;var t=Je(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ye=Ne["__core-js_shared__"],Ze=(Ke=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||""))?"Symbol(src)_1."+Ke:"";var Xe=function(e){return!!Ze&&Ze in e},et=Function.prototype.toString;var nt=function(e){if(null!=e){try{return et.call(e)}catch(e){}try{return e+""}catch(e){}}return""},rt=/^\[object .+?Constructor\]$/,ot=Function.prototype,it=Object.prototype,at=ot.toString,ut=it.hasOwnProperty,st=RegExp("^"+at.call(ut).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ct=function(e){return!(!Ge(e)||Xe(e))&&(Qe(e)?st:rt).test(nt(e))};var ft=function(e,t){return null==e?void 0:e[t]};var lt=function(e,t){var n=ft(e,t);return ct(n)?n:void 0},pt=lt(Ne,"Map"),ht=lt(Object,"create");var dt=function(){this.__data__=ht?ht(null):{},this.size=0};var yt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vt=Object.prototype.hasOwnProperty;var gt=function(e){var t=this.__data__;if(ht){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return vt.call(t,e)?t[e]:void 0},mt=Object.prototype.hasOwnProperty;var bt=function(e){var t=this.__data__;return ht?void 0!==t[e]:mt.call(t,e)};var wt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ht&&void 0===t?"__lodash_hash_undefined__":t,this};function _t(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_t.prototype.clear=dt,_t.prototype.delete=yt,_t.prototype.get=gt,_t.prototype.has=bt,_t.prototype.set=wt;var jt=_t;var Ot=function(){this.size=0,this.__data__={hash:new jt,map:new(pt||Ce),string:new jt}};var St=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var kt=function(e,t){var n=e.__data__;return St(t)?n["string"==typeof t?"string":"hash"]:n.map};var xt=function(e){var t=kt(this,e).delete(e);return this.size-=t?1:0,t};var Et=function(e){return kt(this,e).get(e)};var Ct=function(e){return kt(this,e).has(e)};var Pt=function(e,t){var n=kt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Tt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Tt.prototype.clear=Ot,Tt.prototype.delete=xt,Tt.prototype.get=Et,Tt.prototype.has=Ct,Tt.prototype.set=Pt;var At=Tt;var Rt=function(e,t){var n=this.__data__;if(n instanceof Ce){var r=n.__data__;if(!pt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new At(r)}return n.set(e,t),this.size=n.size,this};function Mt(e){var t=this.__data__=new Ce(e);this.size=t.size}Mt.prototype.clear=Pe,Mt.prototype.delete=Te,Mt.prototype.get=Ae,Mt.prototype.has=Re,Mt.prototype.set=Rt;var Lt=Mt,Dt=function(){try{var e=lt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var zt=function(e,t,n){"__proto__"==t&&Dt?Dt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Nt=function(e,t,n){(void 0!==n&&!we(e[t],n)||void 0===n&&!(t in e))&&zt(e,t,n)};var qt=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var s=a[e?u:++o];if(!1===n(i[s],s,i))break}return t}}(),It=Le((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Ne.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}})),Ft=Ne.Uint8Array;var $t=function(e){var t=new e.constructor(e.byteLength);return new Ft(t).set(new Ft(e)),t};var Wt=function(e,t){var n=t?$t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Vt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Ut=Object.create,Bt=function(){function e(){}return function(t){if(!Ge(t))return{};if(Ut)return Ut(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Ht=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),Jt=Object.prototype;var Gt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Jt)};var Kt=function(e){return"function"!=typeof e.constructor||Gt(e)?{}:Bt(Ht(e))};var Qt=function(e){return null!=e&&"object"==typeof e};var Yt=function(e){return Qt(e)&&"[object Arguments]"==Je(e)},Zt=Object.prototype,Xt=Zt.hasOwnProperty,en=Zt.propertyIsEnumerable,tn=Yt(function(){return arguments}())?Yt:function(e){return Qt(e)&&Xt.call(e,"callee")&&!en.call(e,"callee")},nn=Array.isArray;var rn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var on=function(e){return null!=e&&rn(e.length)&&!Qe(e)};var an=function(e){return Qt(e)&&on(e)};var un=function(){return!1},sn=Le((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Ne.Buffer:void 0,i=(o?o.isBuffer:void 0)||un;e.exports=i})),cn=Function.prototype,fn=Object.prototype,ln=cn.toString,pn=fn.hasOwnProperty,hn=ln.call(Object);var dn=function(e){if(!Qt(e)||"[object Object]"!=Je(e))return!1;var t=Ht(e);if(null===t)return!0;var n=pn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ln.call(n)==hn},yn={};yn["[object Float32Array]"]=yn["[object Float64Array]"]=yn["[object Int8Array]"]=yn["[object Int16Array]"]=yn["[object Int32Array]"]=yn["[object Uint8Array]"]=yn["[object Uint8ClampedArray]"]=yn["[object Uint16Array]"]=yn["[object Uint32Array]"]=!0,yn["[object Arguments]"]=yn["[object Array]"]=yn["[object ArrayBuffer]"]=yn["[object Boolean]"]=yn["[object DataView]"]=yn["[object Date]"]=yn["[object Error]"]=yn["[object Function]"]=yn["[object Map]"]=yn["[object Number]"]=yn["[object Object]"]=yn["[object RegExp]"]=yn["[object Set]"]=yn["[object String]"]=yn["[object WeakMap]"]=!1;var vn=function(e){return Qt(e)&&rn(e.length)&&!!yn[Je(e)]};var gn=function(e){return function(t){return e(t)}},mn=Le((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&De.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i})),bn=mn&&mn.isTypedArray,wn=bn?gn(bn):vn;var _n=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},jn=Object.prototype.hasOwnProperty;var On=function(e,t,n){var r=e[t];jn.call(e,t)&&we(r,n)&&(void 0!==n||t in e)||zt(e,t,n)};var Sn=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),o?zt(n,u,s):On(n,u,s)}return n};var kn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},xn=/^(?:0|[1-9]\d*)$/;var En=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&xn.test(e))&&e>-1&&e%1==0&&e<t},Cn=Object.prototype.hasOwnProperty;var Pn=function(e,t){var n=nn(e),r=!n&&tn(e),o=!n&&!r&&sn(e),i=!n&&!r&&!o&&wn(e),a=n||r||o||i,u=a?kn(e.length,String):[],s=u.length;for(var c in e)!t&&!Cn.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||En(c,s))||u.push(c);return u};var Tn=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},An=Object.prototype.hasOwnProperty;var Rn=function(e){if(!Ge(e))return Tn(e);var t=Gt(e),n=[];for(var r in e)("constructor"!=r||!t&&An.call(e,r))&&n.push(r);return n};var Mn=function(e){return on(e)?Pn(e,!0):Rn(e)};var Ln=function(e){return Sn(e,Mn(e))};var Dn=function(e,t,n,r,o,i,a){var u=_n(e,n),s=_n(t,n),c=a.get(s);if(c)Nt(e,n,c);else{var f=i?i(u,s,n+"",e,t,a):void 0,l=void 0===f;if(l){var p=nn(s),h=!p&&sn(s),d=!p&&!h&&wn(s);f=s,p||h||d?nn(u)?f=u:an(u)?f=Vt(u):h?(l=!1,f=It(s,!0)):d?(l=!1,f=Wt(s,!0)):f=[]:dn(s)||tn(s)?(f=u,tn(u)?f=Ln(u):Ge(u)&&!Qe(u)||(f=Kt(s))):l=!1}l&&(a.set(s,f),o(f,s,r,i,a),a.delete(s)),Nt(e,n,f)}};var zn=function e(t,n,r,o,i){t!==n&&qt(n,(function(a,u){if(i||(i=new Lt),Ge(a))Dn(t,n,u,r,e,o,i);else{var s=o?o(_n(t,u),a,u+"",t,n,i):void 0;void 0===s&&(s=a),Nt(t,u,s)}}),Mn)};var Nn=function(e){return e};var qn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},In=Math.max;var Fn=function(e,t,n){return t=In(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=In(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=r[o];return u[t]=n(a),qn(e,this,u)}};var $n=function(e){return function(){return e}},Wn=Dt?function(e,t){return Dt(e,"toString",{configurable:!0,enumerable:!1,value:$n(t),writable:!0})}:Nn,Vn=Date.now;var Un=function(e){var t=0,n=0;return function(){var r=Vn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Wn);var Bn=function(e,t){return Un(Fn(e,t,Nn),e+"")};var Hn=function(e,t,n){if(!Ge(n))return!1;var r=typeof t;return!!("number"==r?on(n)&&En(t,n.length):"string"==r&&t in n)&&we(n[t],e)};var Jn=function(e){return Bn((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Hn(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t}))}((function(e,t,n){zn(e,t,n)})),Gn=["weapp","aliapp","swan","ttapp"],Kn=["OPTIONS","options","GET","get","HEAD","head","POST","post","PUT","put","DELETE","delete","TRACE","trace","CONNECT","connect"];function Qn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return me.checkPropTypes({withCredentials:me.bool.isRequired,env:me.oneOf(Gn),appid:me.string,tokenReqConfig:me.shape({url:me.string,method:me.oneOf(Kn).isRequired,headers:me.object,timeout:me.number}),userInfoReqConfig:me.shape({url:me.string,method:me.oneOf(Kn).isRequired,headers:me.object,timeout:me.number})},e)}var Yn=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xn=function(e,t,n){return t&&Zn(e.prototype,t),n&&Zn(e,n),e},er=Le((function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(r){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(r)}e.exports=n}));var tr=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var nr=function(e,t){return!t||"object"!==er(t)&&"function"!=typeof t?tr(e):t},rr=Le((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t})),or=Le((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t}));var ir=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)};var ar=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};var ur=function(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value};var sr=function(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n},cr=function(e){function t(){var e;return Yn(this,t),e=nr(this,rr(t).call(this)),fr.set(tr(e),{writable:!0,value:{}}),lr.set(tr(e),{writable:!0,value:[]}),pr.set(tr(e),{writable:!0,value:[]}),hr.set(tr(e),{writable:!0,value:[]}),e}return ir(t,e),Xn(t,[{key:"config",value:function(){}},{key:"queue",value:function(){}},{key:"use",value:function(){}},{key:"getToken",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isRefresh:!1,withCredentials:!0};e.isRefresh,e.withCredentials}},{key:"getUserInfo",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.rawData,e.signature,e.encryptedData,e.iv}},{key:"addEventListener",value:function(){}}]),t}(n),fr=new WeakMap,lr=new WeakMap,pr=new WeakMap,hr=new WeakMap,dr="MINI_AUTH:token:",yr="".concat(dr,"beforeRefresh"),vr="".concat(dr,"afterRefresh"),gr="".concat(dr,"beforeCache"),mr="".concat(dr,"afterCache"),br="".concat(dr,"expired"),wr="".concat(dr,"beforeLogin"),_r="".concat(dr,"afterLogin"),jr="".concat(dr,"beforeRequest"),Or="".concat(dr,"afterRequest"),Sr="".concat(dr,"wx:beforeLogin"),kr="".concat(dr,"wx:successLogin"),xr="".concat(dr,"wx:failLogin"),Er="".concat(dr,"wx:beforeRequest"),Cr="".concat(dr,"wx:successRequest"),Pr="".concat(dr,"wx:failRequest"),Tr="".concat(dr,"ali:beforeLogin"),Ar="".concat(dr,"ali:successLogin"),Rr="".concat(dr,"ali:failLogin"),Mr="".concat(dr,"ali:beforeRequest"),Lr="".concat(dr,"ali:successRequest"),Dr="".concat(dr,"ali:failRequest");function zr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.errCode||0;return{errCode:e.errCode||0,errMsg:0===t?"":e.errMsg||JSON.stringify(e),status:e.statusCode||e.status||-1,headers:e.header||null,data:e.data||null}}var Nr=function(){function e(){Yn(this,e),ar(this,"context",{}),ar(this,"middleware",[])}return Xn(e,[{key:"createContext",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Object.create(this.context);return Object.assign(t,e)}},{key:"dispatch",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=this.createContext(e),r=this.runMiddleware(t||this.middleware);return r(n)}},{key:"runMiddleware",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return function(t,n){var r=-1;return new G((function(o,i){!function a(u,s){if(u<=r)return i(zr({errCode:5004,errMsg:"next() called multiple times"}));if(s)return i(s);var c=e[r=u];if(r===e.length&&(c=n),!c)return o(t);try{return c(t,a.bind(null,r+1))}catch(e){return i(zr({errCode:5005,errMsg:JSON.stringify(e)}))}}(0,null)}))}}},{key:"use",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};if("function"!=typeof e)throw new Error("middle must be function!");this.middleware.push(e)}},{key:"useBatch",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){e.use(t)}))}}]),e}();function qr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return me.checkPropTypes({timeout:me.number,scopes:me.array,force:me.bool},e)}var Ir={timeout:2e4,scopes:["auth_base"],force:!0};function Fr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"noName",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};e&&"function"==typeof e.emit&&e.emit(t,n)}function $r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{timeout:2e4},t=e.timeout,n=e.self;return new G((function(e,r){wx.login({timeout:t,success:function(t){e({errCode:0,errMsg:"",jsCode:t.code}),Fr(n,kr,{res:t})},fail:function(e){r({errCode:5e3,errMsg:e.errMsg||JSON.stringify(e),jsCode:""}),Fr(n,xr,{err:e})}}),Fr(n,Sr,{timeout:t})}))}function Wr(){return"undefined"!=typeof wx&&wx?wx:"undefined"!=typeof my&&my?my:"undefined"!=typeof swan&&swan?swan:"undefined"!=typeof tt&&tt?tt:global}var Vr=Wr();function Ur(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{scopes:["auth_base"]},t=e.scopes,n=e.self;return new G((function(e,r){Vr.getAuthCode({scopes:t,success:function(t){e({errCode:0,errMsg:"",jsCode:t.authCode}),Fr(n,Ar,{res:t})},fail:function(e){r({errCode:5009,errMsg:e.errMsg||JSON.stringify(e),jsCode:""}),Fr(n,Rr,{err:e})}}),Fr(n,Tr,{scopes:t})}))}function Br(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp"},t=e.timeout,n=e.env,r=e.scopes,o=e.force,i=e.self,a=null;switch(qr(Jn(Ir,{timeout:t,scopes:r,force:o})),n){case"aliapp":a=Ur({scopes:r,self:i});break;case"swan":case"ttapp":case"weapp":default:a=$r({timeout:t,self:i})}return a}function Hr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return me.checkPropTypes({url:me.string,data:me.object,headers:me.object,timeout:me.number,method:me.string},e)}var Jr={url:"",data:{},headers:{},timeout:3e4,method:"GET"};function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kr(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Gr(t,!0).forEach((function(n){ar(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gr(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Qr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{method:"GET",data:{}},t=e.url,n=e.data,r=e.headers,o=e.method,i=e.self;return new G((function(e,a){wx.request({url:t,data:n,header:r,method:o,success:function(t){e(zr(Kr({errCode:0},t))),Fr(i,Cr,{res:t})},fail:function(e){var t=5003;e.errMsg?t=-1<e.errMsg.toLowerCase().indexOf("timeout")?5001:5002:t=5003;a(zr(Kr({errCode:t},e))),Fr(i,Pr,{err:e})}}),Fr(i,Er,{url:t,data:n,headers:r,method:o})}))}function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Yr(t,!0).forEach((function(n){ar(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yr(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Xr=Wr();function eo(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{method:"GET",data:{}},t=e.url,n=e.data,r=e.headers,o=e.method,i=e.timeout,a=e.self;return new G((function(e,u){Xr.request({url:t,data:n,headers:r,method:o,timeout:i,success:function(t){e(zr(Zr({errCode:0},t))),Fr(a,Lr,{res:t})},fail:function(e){var t=5006;e.errMsg?t=-1<e.errMsg.toLowerCase().indexOf("timeout")?5007:5008:t=5006;u(zr(Zr({errCode:t},e))),Fr(a,Dr,{err:e})}}),Fr(a,Mr,{url:t,data:n,headers:r,method:o,timeout:i})}))}function to(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp"},t=e.url,n=e.timeout,r=e.data,o=e.headers,i=e.method,a=e.env,u=e.self,s=null;switch(Hr(Jn(Jr,{url:t,timeout:n,data:r,headers:o,method:i})),a){case"aliapp":s=eo({self:u,url:t,data:r,headers:o,method:i});break;case"swan":case"ttapp":case"weapp":default:s=Qr({self:u,url:t,data:r,headers:o,method:i})}return s}var no=Wr(),ro={setStorageSync:no.setStorageSync.bind(no),getStorageSync:no.getStorageSync.bind(no),removeStorageSync:no.removeStorageSync.bind(no)},oo=Wr(),io={setStorageSync:oo.setStorageSync.bind(oo),getStorageSync:oo.getStorageSync.bind(oo),removeStorageSync:oo.removeStorageSync.bind(oo)};function ao(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp"},t=e.env;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";try{switch(t){case"aliapp":io.setStorageSync({key:e,data:n});break;case"swan":case"ttapp":case"weapp":default:ro.setStorageSync(e,n)}}catch(e){throw e}}}function uo(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp"},t=e.env;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=null;try{switch(t){case"aliapp":n=io.getStorageSync({key:e}).data;break;case"swan":case"ttapp":case"weapp":default:n=ro.getStorageSync(e)}}catch(e){throw e}return n}}function so(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp"},t=e.env;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";try{switch(t){case"aliapp":io.removeStorageSync({key:e});break;case"swan":case"ttapp":case"weapp":default:ro.removeStorageSync(e)}}catch(e){throw e}}}function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?co(t,!0).forEach((function(n){ar(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):co(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function lo(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var po="token",ho="afterToken",yo="user",vo=function(e){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Yn(this,t),e=nr(this,rr(t).call(this)),ko.add(tr(e)),So.add(tr(e)),go.set(tr(e),{writable:!0,value:{}}),mo.set(tr(e),{writable:!0,value:[]}),bo.set(tr(e),{writable:!0,value:[]}),wo.set(tr(e),{writable:!0,value:[]}),_o.set(tr(e),{writable:!0,value:[]}),jo.set(tr(e),{writable:!0,value:68e5}),Oo.set(tr(e),{writable:!0,value:!1}),ar(tr(e),"tokenReqData",{}),ar(tr(e),"tokenResData",{}),e.middleware=new Nr,sr(tr(e),go,n),e}return ir(t,e),Xn(t,[{key:"use",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};if("function"==typeof t)switch(e){case ho:ur(this,wo).push(t);break;case yo:ur(this,_o).push(t);break;case po:default:ur(this,bo).push(t)}}},{key:"set2Storage",value:function(){function e(t){try{ao({env:ur(this,go).env})(r.key,r.data)}catch(n){console.error(n),0<t&&e.call(this,t-1),this.emit(TOKEN_STORAGE_SET_ERR,{reqDta:r,err:n})}return r.data}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:po,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=lo(this,ko,Eo).call(this,t,n);return e.call(this,3)}},{key:"getDataFromStorage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:po,t=null;try{t=uo({env:ur(this,go).env})(lo(this,So,xo).call(this,e))}catch(e){console.error(e),this.emit(TOKEN_STORAGE_GET_ERR,{reqDta:po,err:e})}return t}},{key:"clearStorage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:po;try{so({env:ur(this,go).env})(lo(this,So,xo).call(this,e))}catch(e){console.error(e)}}},{key:"isExpired",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e){var t=e.expirationTime;return!(t&&t>Date.now())}return!0}},{key:"setTokenExpires",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;(!e||isNaN(e))&&(e=68e5),sr(this,jo,+e)}},{key:"runQueues",value:function(e,t){if(ur(this,mo)&&Array.isArray(ur(this,mo))){var n=ur(this,mo).length;ur(this,mo).splice(0,n).forEach((function(n){var r=n.resolve,o=n.reject;return e?o(e):r(t)}))}}},{key:"setTokenReqConfig",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return null==e?null:void(ur(this,go).tokenReqConfig[e]=t)}},{key:"getToken",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isRefresh:!1},n=t.isRefresh,r=t.scopes;return new G((function(t,o){if(ur(e,Oo))return ur(e,mo).push({resolve:t,reject:o});var i=ur(e,go).env,a=ur(e,go).tokenReqConfig,u=a.url;a.headers;var s=a.method,c=null;if(n)e.emit(yr),e.clearStorage(po),e.emit(vr);else{if(c=e.getDataFromStorage(po),e.emit(gr,c),c&&!e.isExpired(c))return t(c),void e.emit(mr,c);e.emit(br,c),e.clearStorage(po)}e.emit(wr),sr(e,Oo,!0),Br({self:e,env:i,scopes:r}).then((function(t){return e.tokenReqData.jsCode=t.jsCode,e.emit(_r,t),e.middleware.dispatch(e,ur(e,bo))})).then((function(t){return e.emit(jr),to({self:e,env:i,url:u,method:s,headers:a.headers||ur(e,go).headers,data:fo({},t.tokenReqData)})})).then((function(t){return e.tokenResData=t,e.middleware.dispatch(e,ur(e,wo))})).then((function(t){return e.emit(Or,t.tokenResData),e.set2Storage(po,t.tokenResData)})).then((function(n){t(n),e.runQueues(null,n),sr(e,Oo,!1),sr(e,mo,[])})).catch((function(t){o(t),e.runQueues(t),sr(e,Oo,!1),sr(e,mo,[])}))}))}},{key:"config",get:function(){return ur(this,go)}},{key:"queue",get:function(){return this.waitQueues}}]),t}(cr),go=new WeakMap,mo=new WeakMap,bo=new WeakMap,wo=new WeakMap,_o=new WeakMap,jo=new WeakMap,Oo=new WeakMap,So=new WeakSet,ko=new WeakSet,xo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:po;return"MINI_AUTH:".concat(e,":").concat(ur(this,go).appid)},Eo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:po,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return{key:lo(this,So,xo).call(this,e),data:{data:t,expires:ur(this,jo),expirationTime:Date.now()+ur(this,jo)}}},Co={withCredentials:!1,env:"weapp",appid:"mockAppid",tokenReqConfig:{url:"",method:"GET",headers:{"content-type":"application/json"},timeout:1e4},userInfoReqConfig:{url:"",method:"GET",headers:{"content-type":"application/json"},timeout:1e4}};function Po(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Jn(Co,e);return Qn(t),new vo(t)}var To=Po(Co);To.create=Po;var Ao=Ro;function Ro(e,t){if(!e)throw new Error(t||"Assertion failed")}Ro.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var Mo=global.performance||{};Mo.now||Mo.mozNow||Mo.msNow||Mo.oNow||Mo.webkitNow;var Lo=/%[sdj%]/g;function Do(e){if(!Go(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(qo(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,i=String(e).replace(Lo,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),a=r[n];n<o;a=r[++n])Ho(a)||!Yo(a)?i+=" "+a:i+=" "+qo(a);return i}var zo,No={};function qo(e,t){var n={seen:[],stylize:Fo};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),Bo(t)?n.showHidden=t:t&&ii(n,t),Ko(n.showHidden)&&(n.showHidden=!1),Ko(n.depth)&&(n.depth=2),Ko(n.colors)&&(n.colors=!1),Ko(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Io),$o(n,e,n.depth)}function Io(e,t){var n=qo.styles[t];return n?"["+qo.colors[n][0]+"m"+e+"["+qo.colors[n][1]+"m":e}function Fo(e,t){return e}function $o(e,t,n){if(e.customInspect&&t&&ei(t.inspect)&&t.inspect!==qo&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return Go(r)||(r=$o(e,r,n)),r}var o=function(e,t){if(Ko(t))return e.stylize("undefined","undefined");if(Go(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(Jo(t))return e.stylize(""+t,"number");if(Bo(t))return e.stylize(""+t,"boolean");if(Ho(t))return e.stylize("null","null")}(e,t);if(o)return o;var i=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),Xo(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return Wo(t);if(0===i.length){if(ei(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(Qo(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Zo(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Xo(t))return Wo(t)}var s,c="",f=!1,l=["{","}"];(Uo(t)&&(f=!0,l=["[","]"]),ei(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return Qo(t)&&(c=" "+RegExp.prototype.toString.call(t)),Zo(t)&&(c=" "+Date.prototype.toUTCString.call(t)),Xo(t)&&(c=" "+Wo(t)),0!==i.length||f&&0!=t.length?n<0?Qo(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),s=f?function(e,t,n,r,o){for(var i=[],a=0,u=t.length;a<u;++a)ai(t,String(a))?i.push(Vo(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(Vo(e,t,n,r,o,!0))})),i}(e,t,n,a,i):i.map((function(r){return Vo(e,t,n,a,r,f)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(s,c,l)):l[0]+c+l[1]}function Wo(e){return"["+Error.prototype.toString.call(e)+"]"}function Vo(e,t,n,r,o,i){var a,u,s;if((s=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?u=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(u=e.stylize("[Setter]","special")),ai(r,o)||(a="["+o+"]"),u||(e.seen.indexOf(s.value)<0?(u=Ho(n)?$o(e,s.value,null):$o(e,s.value,n-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+u.split("\n").map((function(e){return"   "+e})).join("\n")):u=e.stylize("[Circular]","special")),Ko(a)){if(i&&o.match(/^\d+$/))return u;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function Uo(e){return Array.isArray(e)}function Bo(e){return"boolean"==typeof e}function Ho(e){return null===e}function Jo(e){return"number"==typeof e}function Go(e){return"string"==typeof e}function Ko(e){return void 0===e}function Qo(e){return Yo(e)&&"[object RegExp]"===ti(e)}function Yo(e){return"object"==typeof e&&null!==e}function Zo(e){return Yo(e)&&"[object Date]"===ti(e)}function Xo(e){return Yo(e)&&("[object Error]"===ti(e)||e instanceof Error)}function ei(e){return"function"==typeof e}function ti(e){return Object.prototype.toString.call(e)}function ni(e){return e<10?"0"+e.toString(10):e.toString(10)}qo.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},qo.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var ri=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function oi(){var e=new Date,t=[ni(e.getHours()),ni(e.getMinutes()),ni(e.getSeconds())].join(":");return[e.getDate(),ri[e.getMonth()],t].join(" ")}function ii(e,t){if(!t||!Yo(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function ai(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ui={inherits:h,_extend:ii,log:function(){console.log("%s - %s",oi(),Do.apply(null,arguments))},isBuffer:function(e){return Buffer.isBuffer(e)},isPrimitive:function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},isFunction:ei,isError:Xo,isDate:Zo,isObject:Yo,isRegExp:Qo,isUndefined:Ko,isSymbol:function(e){return"symbol"==typeof e},isString:Go,isNumber:Jo,isNullOrUndefined:function(e){return null==e},isNull:Ho,isBoolean:Bo,isArray:Uo,inspect:qo,deprecate:function e(t,n){if(Ko(global.process))return function(){return e(t,n).apply(this,arguments)};var r=!1;return function(){return r||(console.error(n),r=!0),t.apply(this,arguments)}},format:Do,debuglog:function(e){if(Ko(zo)&&(zo=""),e=e.toUpperCase(),!No[e])if(new RegExp("\\b"+e+"\\b","i").test(zo)){No[e]=function(){var t=Do.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else No[e]=function(){};return No[e]}},si=Q((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}}));function ci(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function fi(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function li(e){return 1===e.length?"0"+e:e}function pi(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var hi={inherits:Q((function(e){try{var t=ui;if("function"!=typeof t.inherits)throw"";e.exports=t.inherits}catch(t){e.exports=si}})),toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),o=0;o<e.length;o+=2)n.push(parseInt(e[o]+e[o+1],16))}else for(var r=0,o=0;o<e.length;o++){var i=e.charCodeAt(o);i<128?n[r++]=i:i<2048?(n[r++]=i>>6|192,n[r++]=63&i|128):ci(e,o)?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++o)),n[r++]=i>>18|240,n[r++]=i>>12&63|128,n[r++]=i>>6&63|128,n[r++]=63&i|128):(n[r++]=i>>12|224,n[r++]=i>>6&63|128,n[r++]=63&i|128)}else for(o=0;o<e.length;o++)n[o]=0|e[o];return n},toHex:function(e){for(var t="",n=0;n<e.length;n++)t+=li(e[n].toString(16));return t},htonl:fi,toHex32:function(e,t){for(var n="",r=0;r<e.length;r++){var o=e[r];"little"===t&&(o=fi(o)),n+=pi(o.toString(16))}return n},zero2:li,zero8:pi,join32:function(e,t,n,r){var o=n-t;Ao(o%4==0);for(var i=new Array(o/4),a=0,u=t;a<i.length;a++,u+=4){var s;s="big"===r?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],i[a]=s>>>0}return i},split32:function(e,t){for(var n=new Array(4*e.length),r=0,o=0;r<e.length;r++,o+=4){var i=e[r];"big"===t?(n[o]=i>>>24,n[o+1]=i>>>16&255,n[o+2]=i>>>8&255,n[o+3]=255&i):(n[o+3]=i>>>24,n[o+2]=i>>>16&255,n[o+1]=i>>>8&255,n[o]=255&i)}return n},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,n){return e+t+n>>>0},sum32_4:function(e,t,n,r){return e+t+n+r>>>0},sum32_5:function(e,t,n,r,o){return e+t+n+r+o>>>0},sum64:function(e,t,n,r){var o=e[t],i=r+e[t+1]>>>0,a=(i<r?1:0)+n+o;e[t]=a>>>0,e[t+1]=i},sum64_hi:function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},sum64_lo:function(e,t,n,r){return t+r>>>0},sum64_4_hi:function(e,t,n,r,o,i,a,u){var s=0,c=t;return s+=(c=c+r>>>0)<t?1:0,s+=(c=c+i>>>0)<i?1:0,e+n+o+a+(s+=(c=c+u>>>0)<u?1:0)>>>0},sum64_4_lo:function(e,t,n,r,o,i,a,u){return t+r+i+u>>>0},sum64_5_hi:function(e,t,n,r,o,i,a,u,s,c){var f=0,l=t;return f+=(l=l+r>>>0)<t?1:0,f+=(l=l+i>>>0)<i?1:0,f+=(l=l+u>>>0)<u?1:0,e+n+o+a+s+(f+=(l=l+c>>>0)<c?1:0)>>>0},sum64_5_lo:function(e,t,n,r,o,i,a,u,s,c){return t+r+i+u+c>>>0},rotr64_hi:function(e,t,n){return(t<<32-n|e>>>n)>>>0},rotr64_lo:function(e,t,n){return(e<<32-n|t>>>n)>>>0},shr64_hi:function(e,t,n){return e>>>n},shr64_lo:function(e,t,n){return(e<<32-n|t>>>n)>>>0}};function di(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var yi=di;di.prototype.update=function(e,t){if(e=hi.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=hi.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},di.prototype.digest=function(e){return this.update(this._pad()),Ao(null===this.pending),this._digest(e)},di.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var o=1;o<n;o++)r[o]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)r[o++]=0;r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=e>>>24&255,r[o++]=e>>>16&255,r[o++]=e>>>8&255,r[o++]=255&e}else for(r[o++]=255&e,r[o++]=e>>>8&255,r[o++]=e>>>16&255,r[o++]=e>>>24&255,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,i=8;i<this.padLength;i++)r[o++]=0;return r};var vi={BlockHash:yi},gi=hi.rotr32;function mi(e,t,n){return e&t^~e&n}function bi(e,t,n){return e&t^e&n^t&n}function wi(e,t,n){return e^t^n}var _i={ft_1:function(e,t,n,r){return 0===e?mi(t,n,r):1===e||3===e?wi(t,n,r):2===e?bi(t,n,r):void 0},ch32:mi,maj32:bi,p32:wi,s0_256:function(e){return gi(e,2)^gi(e,13)^gi(e,22)},s1_256:function(e){return gi(e,6)^gi(e,11)^gi(e,25)},g0_256:function(e){return gi(e,7)^gi(e,18)^e>>>3},g1_256:function(e){return gi(e,17)^gi(e,19)^e>>>10}},ji=hi.sum32,Oi=hi.sum32_4,Si=hi.sum32_5,ki=_i.ch32,xi=_i.maj32,Ei=_i.s0_256,Ci=_i.s1_256,Pi=_i.g0_256,Ti=_i.g1_256,Ai=vi.BlockHash,Ri=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Mi(){if(!(this instanceof Mi))return new Mi;Ai.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Ri,this.W=new Array(64)}hi.inherits(Mi,Ai);var Li=Mi;Mi.blockSize=512,Mi.outSize=256,Mi.hmacStrength=192,Mi.padLength=64,Mi.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=Oi(Ti(n[r-2]),n[r-7],Pi(n[r-15]),n[r-16]);var o=this.h[0],i=this.h[1],a=this.h[2],u=this.h[3],s=this.h[4],c=this.h[5],f=this.h[6],l=this.h[7];for(Ao(this.k.length===n.length),r=0;r<n.length;r++){var p=Si(l,Ci(s),ki(s,c,f),this.k[r],n[r]),h=ji(Ei(o),xi(o,i,a));l=f,f=c,c=s,s=ji(u,p),u=a,a=i,i=o,o=ji(p,h)}this.h[0]=ji(this.h[0],o),this.h[1]=ji(this.h[1],i),this.h[2]=ji(this.h[2],a),this.h[3]=ji(this.h[3],u),this.h[4]=ji(this.h[4],s),this.h[5]=ji(this.h[5],c),this.h[6]=ji(this.h[6],f),this.h[7]=ji(this.h[7],l)},Mi.prototype._digest=function(e){return"hex"===e?hi.toHex32(this.h,"big"):hi.split32(this.h,"big")};var Di=null;e.creatMiniAuth=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp",codeKey:"js_code"},t=e.appid,n=e.env,r=e.url,o=e.appKey,i=e.appCode,a=e.headers,u=e.codeKey;if(Di)return Di;var s={url:r,method:"POST",headers:a};return(Di=To.create({appid:t,env:n,tokenReqConfig:s})).use("token",(function(e,t){var n=e.tokenReqData.jsCode;n&&("undefined"!=typeof wx&&wx&&(e.tokenReqData={js_code:n},u&&(e.tokenReqData[u]=n)),"undefined"!=typeof my&&my&&(e.tokenReqData={auth_code:n}),!s.headers&&(s.headers={}),s.headers["Authorization-AppKey"]=o,s.headers["Authorization-Sign"]=Li().update("".concat(o).concat(JSON.stringify(e.tokenReqData)).concat(i)).digest("hex"),Di.setTokenReqConfig("headers",s.headers)),t()})),Di.use("afterToken",(function(e,t){var n=e.tokenResData.data,r=n.data,o=void 0===r?{}:r,i=n.retcode,a=n.msg,u=n.code;if(200===i||200===u)return e.tokenResData=o,t();var s={},c=5e4,f="UNKOWN";try{s=e.tokenResData.headers,c=e.tokenResData.status,f=a||e.tokenResData.data}catch(e){console.error(e)}return t({headers:s,status:c,retcode:i||u,msg:f,data:o})})),Di.setTokenExpires(36e5),Di},e.getToken=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new G((function(t,n){!function r(o){Di.getToken(e).then((function(e){t(e)})).catch((function(e){5001===e.errCode||5002===e.errCode?o>=3?n(e):setTimeout((function(){r(o+1)}),2e3):n(e)}))}(0)}))},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=mini-auth-v1.min.js.map
