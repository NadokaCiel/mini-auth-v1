!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e=e||self,function(){var n=e["mini-auth-v1"],r=e["mini-auth-v1"]={};t(r),r.noConflict=function(){return e["mini-auth-v1"]=n,r}}())}(this,(function(e){"use strict";function t(){}function n(){n.init.call(this)}function r(e){return void 0===e._maxListeners?n.defaultMaxListeners:e._maxListeners}function o(e,t,n){if(t)e.call(n);else for(var r=e.length,o=p(e,r),i=0;i<r;++i)o[i].call(n)}function i(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,i=p(e,o),a=0;a<o;++a)i[a].call(n,r)}function a(e,t,n,r,o){if(t)e.call(n,r,o);else for(var i=e.length,a=p(e,i),u=0;u<i;++u)a[u].call(n,r,o)}function u(e,t,n,r,o,i){if(t)e.call(n,r,o,i);else for(var a=e.length,u=p(e,a),c=0;c<a;++c)u[c].call(n,r,o,i)}function c(e,t,n,r){if(t)e.apply(n,r);else for(var o=e.length,i=p(e,o),a=0;a<o;++a)i[a].apply(n,r)}function s(e,n,o,i){var a,u,c,s;if("function"!=typeof o)throw new TypeError('"listener" argument must be a function');if((u=e._events)?(u.newListener&&(e.emit("newListener",n,o.listener?o.listener:o),u=e._events),c=u[n]):(u=e._events=new t,e._eventsCount=0),c){if("function"==typeof c?c=u[n]=i?[o,c]:[c,o]:i?c.unshift(o):c.push(o),!c.warned&&(a=r(e))&&a>0&&c.length>a){c.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+n+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=n,f.count=c.length,s=f,"function"==typeof console.warn?console.warn(s):console.log(s)}}else c=u[n]=o,++e._eventsCount;return e}function f(e,t,n){var r=!1;function o(){e.removeListener(t,o),r||(r=!0,n.apply(e,arguments))}return o.listener=n,o}function l(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function p(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}t.prototype=Object.create(null),n.EventEmitter=n,n.usingDomains=!1,n.prototype.domain=void 0,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.init=function(){this.domain=null,n.usingDomains&&(void 0).active&&(void 0).Domain,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new t,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},n.prototype.getMaxListeners=function(){return r(this)},n.prototype.emit=function(e){var t,n,r,s,f,l,p,h="error"===e;if(l=this._events)h=h&&null==l.error;else if(!h)return!1;if(p=this.domain,h){if(t=arguments[1],!p){if(t instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=p,t.domainThrown=!1,p.emit("error",t),!1}if(!(n=l[e]))return!1;var y="function"==typeof n;switch(r=arguments.length){case 1:o(n,y,this);break;case 2:i(n,y,this,arguments[1]);break;case 3:a(n,y,this,arguments[1],arguments[2]);break;case 4:u(n,y,this,arguments[1],arguments[2],arguments[3]);break;default:for(s=new Array(r-1),f=1;f<r;f++)s[f-1]=arguments[f];c(n,y,this,s)}return!0},n.prototype.addListener=function(e,t){return s(this,e,t,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(e,t){return s(this,e,t,!0)},n.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,f(this,e,t)),this},n.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,f(this,e,t)),this},n.prototype.removeListener=function(e,n){var r,o,i,a,u;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(r=o[e]))return this;if(r===n||r.listener&&r.listener===n)0==--this._eventsCount?this._events=new t:(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||n));else if("function"!=typeof r){for(i=-1,a=r.length;a-- >0;)if(r[a]===n||r[a].listener&&r[a].listener===n){u=r[a].listener,i=a;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new t,this;delete o[e]}else!function(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(r,i);o.removeListener&&this.emit("removeListener",e,u||n)}return this},n.prototype.removeAllListeners=function(e){var n,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new t,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new t:delete r[e]),this;if(0===arguments.length){for(var o,i=Object.keys(r),a=0;a<i.length;++a)"removeListener"!==(o=i[a])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new t,this._eventsCount=0,this}if("function"==typeof(n=r[e]))this.removeListener(e,n);else if(n)do{this.removeListener(e,n[n.length-1])}while(n[0]);return this},n.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):l.call(e,t)},n.prototype.listenerCount=l,n.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var h="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};function d(){var e;n.call(this),this.__emitError=(e=this,function(t){e.emit("error",t)})}function y(){return new d}h(d,n),d.prototype.add=function(e){e.on("error",this.__emitError)},d.prototype.remove=function(e){e.removeListener("error",this.__emitError)},d.prototype.bind=function(e){var t=this.__emitError;return function(){var n=Array.prototype.slice.call(arguments);try{e.apply(null,n)}catch(e){t(e)}}},d.prototype.intercept=function(e){var t=this.__emitError;return function(n){if(n)t(n);else{var r=Array.prototype.slice.call(arguments,1);try{e.apply(null,r)}catch(n){t(n)}}}},d.prototype.run=function(e){var t=this.__emitError;try{e()}catch(e){t(e)}return this},d.prototype.dispose=function(){return this.removeAllListeners(),this},d.prototype.enter=d.prototype.exit=function(){return this};var v,g={Domain:d,createDomain:y,create:y},m="function"==typeof setImmediate,b=w;function w(e){_.length||(k(),j=!0),_[_.length]=e}var _=[],j=!1,O=0;function S(){for(;O<_.length;){var e=O;if(O+=1,_[e].call(),O>1024){for(var t=0,n=_.length-O;t<n;t++)_[t]=_[t+O];_.length-=O,O=0}}_.length=0,O=0,j=!1}function k(){var e=process.domain;e&&(v||(v=g),v.active=process.domain=null),j&&m?setImmediate(S):process.nextTick(S),e&&(v.active=process.domain=e)}function x(){}w.requestFlush=k;var E=null,C={};var P=T;function T(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._h=0,this._i=0,this._j=null,this._k=null,e!==x&&D(e,this)}function A(e,t){for(;3===e._i;)e=e._j;if(T._l&&T._l(e),0===e._i)return 0===e._h?(e._h=1,void(e._k=t)):1===e._h?(e._h=2,void(e._k=[e._k,t])):void e._k.push(t);!function(e,t){b((function(){var n=1===e._i?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return E=e,C}}(n,e._j);r===C?M(t.promise,E):R(t.promise,r)}else 1===e._i?R(t.promise,e._j):M(t.promise,e._j)}))}(e,t)}function R(e,t){if(t===e)return M(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return E=e,C}}(t);if(n===C)return M(e,E);if(n===e.then&&t instanceof T)return e._i=3,e._j=t,void L(e);if("function"==typeof n)return void D(n.bind(t),e)}e._i=1,e._j=t,L(e)}function M(e,t){e._i=2,e._j=t,T._m&&T._m(e,t),L(e)}function L(e){if(1===e._h&&(A(e,e._k),e._k=null),2===e._h){for(var t=0;t<e._k.length;t++)A(e,e._k[t]);e._k=null}}function z(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function D(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return E=e,C}}(e,(function(e){n||(n=!0,R(t,e))}),(function(e){n||(n=!0,M(t,e))}));n||r!==C||(n=!0,M(t,E))}T._l=null,T._m=null,T._n=x,T.prototype.then=function(e,t){if(this.constructor!==T)return function(e,t,n){return new e.constructor((function(r,o){var i=new T(x);i.then(r,o),A(e,new z(t,n,i))}))}(this,e,t);var n=new T(x);return A(this,new z(e,t,n)),n},P.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,(function(e){setTimeout((function(){throw e}),0)}))},P.prototype.finally=function(e){return this.then((function(t){return P.resolve(e()).then((function(){return t}))}),(function(t){return P.resolve(e()).then((function(){throw t}))}))};var N=V(!0),I=V(!1),F=V(null),q=V(void 0),$=V(0),W=V("");function V(e){var t=new P(P._n);return t._i=1,t._j=e,t}P.resolve=function(e){if(e instanceof P)return e;if(null===e)return F;if(void 0===e)return q;if(!0===e)return N;if(!1===e)return I;if(0===e)return $;if(""===e)return W;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new P(t.bind(e))}catch(e){return new P((function(t,n){n(e)}))}return V(e)},P.all=function(e){var t=Array.prototype.slice.call(e);return new P((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof P&&a.then===P.prototype.then){for(;3===a._i;)a=a._j;return 1===a._i?o(i,a._j):(2===a._i&&n(a._j),void a.then((function(e){o(i,e)}),n))}var u=a.then;if("function"==typeof u)return void new P(u.bind(a)).then((function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}for(var i=0;i<t.length;i++)o(i,t[i])}))},P.reject=function(e){return new P((function(t,n){n(e)}))},P.race=function(e){return new P((function(t,n){e.forEach((function(e){P.resolve(e).then(t,n)}))}))},P.prototype.catch=function(e){return this.then(null,e)};var U=[],B=function(e){var t;t=U.length?U.pop():new H;t.task=e,t.domain=process.domain,b(t)};function H(){this.task=null,this.domain=null}H.prototype.call=function(){this.domain&&this.domain.enter();var e=!0;try{this.task.call(),e=!1,this.domain&&this.domain.exit()}finally{e&&b.requestFlush(),this.task=null,this.domain=null,U.push(this)}},P.denodeify=function(e,t){return"number"==typeof t&&t!==1/0?function(e,t){for(var n=[],r=0;r<t;r++)n.push("a"+r);var o=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([J]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(P,e)}(e,t):function(e){for(var t=Math.max(e.length-1,3),n=[],r=0;r<t;r++)n.push("a"+r);var o=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+J+";","var res;","switch (argLength) {",n.concat(["extra"]).map((function(e,t){return"case "+t+":res = fn.call("+["self"].concat(n.slice(0,t)).concat("cb").join(",")+");break;"})).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(P,e)}(e)};var J="function (err, res) {if (err) { rj(err); } else { rs(res); }}";P.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,r=this;try{return e.apply(this,arguments).nodeify(n,r)}catch(e){if(null==n)return new P((function(t,n){n(e)}));B((function(){n.call(r,e)}))}}},P.prototype.nodeify=function(e,t){if("function"!=typeof e)return this;this.then((function(n){B((function(){e.call(t,null,n)}))}),(function(n){B((function(){e.call(t,n)}))}))},P.enableSynchronous=function(){P.prototype.isPending=function(){return 0==this.getState()},P.prototype.isFulfilled=function(){return 1==this.getState()},P.prototype.isRejected=function(){return 2==this.getState()},P.prototype.getValue=function(){if(3===this._i)return this._j.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._j},P.prototype.getReason=function(){if(3===this._i)return this._j.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._j},P.prototype.getState=function(){return 3===this._i?this._j.getState():-1===this._i||-2===this._i?0:this._i}},P.disableSynchronous=function(){P.prototype.isPending=void 0,P.prototype.isFulfilled=void 0,P.prototype.isRejected=void 0,P.prototype.getValue=void 0,P.prototype.getReason=void 0,P.prototype.getState=void 0};var G=P;function Q(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Y(e,t){return e(t={exports:{}},t.exports),t.exports}var K=Y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,l=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case f:case l:case i:case u:case a:case h:return e;default:switch(e=e&&e.$$typeof){case s:case p:case c:return e;default:return t}}case y:case d:case o:return t}}}function g(e){return v(e)===l}t.typeOf=v,t.AsyncMode=f,t.ConcurrentMode=l,t.ContextConsumer=s,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=y,t.Memo=d,t.Portal=o,t.Profiler=u,t.StrictMode=a,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===l||e===u||e===a||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===d||e.$$typeof===c||e.$$typeof===s||e.$$typeof===p)},t.isAsyncMode=function(e){return g(e)||v(e)===f},t.isConcurrentMode=g,t.isContextConsumer=function(e){return v(e)===s},t.isContextProvider=function(e){return v(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===i},t.isLazy=function(e){return v(e)===y},t.isMemo=function(e){return v(e)===d},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===u},t.isStrictMode=function(e){return v(e)===a},t.isSuspense=function(e){return v(e)===h}}));Q(K);K.typeOf,K.AsyncMode,K.ConcurrentMode,K.ContextConsumer,K.ContextProvider,K.Element,K.ForwardRef,K.Fragment,K.Lazy,K.Memo,K.Portal,K.Profiler,K.StrictMode,K.Suspense,K.isValidElementType,K.isAsyncMode,K.isConcurrentMode,K.isContextConsumer,K.isContextProvider,K.isElement,K.isForwardRef,K.isFragment,K.isLazy,K.isMemo,K.isPortal,K.isProfiler,K.isStrictMode,K.isSuspense;var Z=Y((function(e,t){"production"!==process.env.NODE_ENV&&function(){Object.defineProperty(t,"__esModule",{value:!0});var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,u=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,s=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.memo"):60115,d=e?Symbol.for("react.lazy"):60116;var y=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,(function(){return n[o++]}));"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(e){}},v=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];y.apply(void 0,[t].concat(r))}};function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var y=e.type;switch(y){case s:case f:case o:case a:case i:case p:return y;default:var v=y&&y.$$typeof;switch(v){case c:case l:case u:return v;default:return t}}case d:case h:case r:return t}}}var m=s,b=f,w=c,_=u,j=n,O=l,S=o,k=d,x=h,E=r,C=a,P=i,T=p,A=!1;function R(e){return g(e)===f}t.typeOf=g,t.AsyncMode=m,t.ConcurrentMode=b,t.ContextConsumer=w,t.ContextProvider=_,t.Element=j,t.ForwardRef=O,t.Fragment=S,t.Lazy=k,t.Memo=x,t.Portal=E,t.Profiler=C,t.StrictMode=P,t.Suspense=T,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===a||e===i||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===c||e.$$typeof===l)},t.isAsyncMode=function(e){return A||(A=!0,v(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),R(e)||g(e)===s},t.isConcurrentMode=R,t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return g(e)===l},t.isFragment=function(e){return g(e)===o},t.isLazy=function(e){return g(e)===d},t.isMemo=function(e){return g(e)===h},t.isPortal=function(e){return g(e)===r},t.isProfiler=function(e){return g(e)===a},t.isStrictMode=function(e){return g(e)===i},t.isSuspense=function(e){return g(e)===p}}()}));Q(Z);Z.typeOf,Z.AsyncMode,Z.ConcurrentMode,Z.ContextConsumer,Z.ContextProvider,Z.Element,Z.ForwardRef,Z.Fragment,Z.Lazy,Z.Memo,Z.Portal,Z.Profiler,Z.StrictMode,Z.Suspense,Z.isValidElementType,Z.isAsyncMode,Z.isConcurrentMode,Z.isContextConsumer,Z.isContextProvider,Z.isElement,Z.isForwardRef,Z.isFragment,Z.isLazy,Z.isMemo,Z.isPortal,Z.isProfiler,Z.isStrictMode,Z.isSuspense;var X=Y((function(e){"production"===process.env.NODE_ENV?e.exports=K:e.exports=Z})),ee=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;function re(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var oe=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=re(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))te.call(n,a)&&(o[a]=n[a]);if(ee){r=ee(n);for(var u=0;u<r.length;u++)ne.call(n,r[u])&&(o[r[u]]=n[r[u]])}}return o},ie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ae=function(){};if("production"!==process.env.NODE_ENV){var ue=ie,ce={},se=Function.call.bind(Object.prototype.hasOwnProperty);ae=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function fe(e,t,n,r,o){if("production"!==process.env.NODE_ENV)for(var i in e)if(se(e,i)){var a;try{if("function"!=typeof e[i]){var u=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.");throw u.name="Invariant Violation",u}a=e[i](t,i,r,n,null,ue)}catch(e){a=e}if(!a||a instanceof Error||ae((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in ce)){ce[a.message]=!0;var c=o?o():"";ae("Failed "+n+" type: "+a.message+(null!=c?c:""))}}}fe.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(ce={})};var le=fe,pe=Function.call.bind(Object.prototype.hasOwnProperty),he=function(){};function de(){return null}"production"!==process.env.NODE_ENV&&(he=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}});var ye=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator;var r={array:u("array"),bool:u("boolean"),func:u("function"),number:u("number"),object:u("object"),string:u("string"),symbol:u("symbol"),any:a(de),arrayOf:function(e){return a((function(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var u=t[n];if(!Array.isArray(u))return new i("Invalid "+o+" `"+a+"` of type `"+s(u)+"` supplied to `"+r+"`, expected an array.");for(var c=0;c<u.length;c++){var f=e(u,c,r,o,a+"["+c+"]",ie);if(f instanceof Error)return f}return null}))},element:a((function(t,n,r,o,a){var u=t[n];return e(u)?null:new i("Invalid "+o+" `"+a+"` of type `"+s(u)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:a((function(e,t,n,r,o){var a=e[t];return X.isValidElementType(a)?null:new i("Invalid "+r+" `"+o+"` of type `"+s(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return a((function(t,n,r,o,a){if(!(t[n]instanceof e)){var u=e.name||"<<anonymous>>";return new i("Invalid "+o+" `"+a+"` of type `"+function(e){if(!e.constructor||!e.constructor.name)return"<<anonymous>>";return e.constructor.name}(t[n])+"` supplied to `"+r+"`, expected instance of `"+u+"`.")}return null}))},node:a((function(e,t,n,r,o){return c(e[t])?null:new i("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return a((function(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var u=t[n],c=s(u);if("object"!==c)return new i("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var f in u)if(pe(u,f)){var l=e(u,f,r,o,a+"."+f,ie);if(l instanceof Error)return l}return null}))},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&(arguments.length>1?he("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):he("Invalid argument supplied to oneOf, expected an array.")),de;function t(t,n,r,a,u){for(var c=t[n],s=0;s<e.length;s++)if(o(c,e[s]))return null;var l=JSON.stringify(e,(function(e,t){return"symbol"===f(t)?String(t):t}));return new i("Invalid "+a+" `"+u+"` of value `"+String(c)+"` supplied to `"+r+"`, expected one of "+l+".")}return a(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&he("Invalid argument supplied to oneOfType, expected an instance of array."),de;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return he("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+l(n)+" at index "+t+"."),de}return a((function(t,n,r,o,a){for(var u=0;u<e.length;u++){if(null==(0,e[u])(t,n,r,o,a,ie))return null}return new i("Invalid "+o+" `"+a+"` supplied to `"+r+"`.")}))},shape:function(e){return a((function(t,n,r,o,a){var u=t[n],c=s(u);if("object"!==c)return new i("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var f in e){var l=e[f];if(l){var p=l(u,f,r,o,a+"."+f,ie);if(p)return p}}return null}))},exact:function(e){return a((function(t,n,r,o,a){var u=t[n],c=s(u);if("object"!==c)return new i("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var f=oe({},t[n],e);for(var l in f){var p=e[l];if(!p)return new i("Invalid "+o+" `"+a+"` key `"+l+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=p(u,l,r,o,a+"."+l,ie);if(h)return h}return null}))}};function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function i(e){this.message=e,this.stack=""}function a(e){if("production"!==process.env.NODE_ENV)var n={},r=0;function o(o,a,u,c,s,f,l){if(c=c||"<<anonymous>>",f=f||u,l!==ie){if(t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var h=c+":"+u;!n[h]&&r<3&&(he("You are manually calling a React.PropTypes validation function for the `"+f+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[h]=!0,r++)}}return null==a[u]?o?null===a[u]?new i("The "+s+" `"+f+"` is marked as required in `"+c+"`, but its value is `null`."):new i("The "+s+" `"+f+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(a,u,c,s,f)}var a=o.bind(null,!1);return a.isRequired=o.bind(null,!0),a}function u(e){return a((function(t,n,r,o,a,u){var c=t[n];return s(c)!==e?new i("Invalid "+o+" `"+a+"` of type `"+f(c)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function c(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!c(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!c(a[1]))return!1}return!0;default:return!1}}function s(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function f(e){if(null==e)return""+e;var t=s(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function l(e){var t=f(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return i.prototype=Error.prototype,r.checkPropTypes=le,r.resetWarningCache=le.resetWarningCache,r.PropTypes=r,r};function ve(){}function ge(){}ge.resetWarningCache=ve;var me=Y((function(e){if("production"!==process.env.NODE_ENV){var t=X;e.exports=ye(t.isElement,!0)}else e.exports=function(){function e(e,t,n,r,o,i){if(i!==ie){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ge,resetWarningCache:ve};return n.PropTypes=n,n}()}));var be=function(){this.__data__=[],this.size=0};var we=function(e,t){return e===t||e!=e&&t!=t};var _e=function(e,t){for(var n=e.length;n--;)if(we(e[n][0],t))return n;return-1},je=Array.prototype.splice;var Oe=function(e){var t=this.__data__,n=_e(t,e);return!(n<0)&&(n==t.length-1?t.pop():je.call(t,n,1),--this.size,!0)};var Se=function(e){var t=this.__data__,n=_e(t,e);return n<0?void 0:t[n][1]};var ke=function(e){return _e(this.__data__,e)>-1};var xe=function(e,t){var n=this.__data__,r=_e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ee.prototype.clear=be,Ee.prototype.delete=Oe,Ee.prototype.get=Se,Ee.prototype.has=ke,Ee.prototype.set=xe;var Ce=Ee;var Pe=function(){this.__data__=new Ce,this.size=0};var Te=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Ae=function(e){return this.__data__.get(e)};var Re=function(e){return this.__data__.has(e)},Me="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Le(e,t){return e(t={exports:{}},t.exports),t.exports}var ze="object"==typeof Me&&Me&&Me.Object===Object&&Me,De="object"==typeof self&&self&&self.Object===Object&&self,Ne=ze||De||Function("return this")(),Ie=Ne.Symbol,Fe=Object.prototype,qe=Fe.hasOwnProperty,$e=Fe.toString,We=Ie?Ie.toStringTag:void 0;var Ve=function(e){var t=qe.call(e,We),n=e[We];try{e[We]=void 0;var r=!0}catch(e){}var o=$e.call(e);return r&&(t?e[We]=n:delete e[We]),o},Ue=Object.prototype.toString;var Be=function(e){return Ue.call(e)},He=Ie?Ie.toStringTag:void 0;var Je=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":He&&He in Object(e)?Ve(e):Be(e)};var Ge=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Qe,Ye=function(e){if(!Ge(e))return!1;var t=Je(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ke=Ne["__core-js_shared__"],Ze=(Qe=/[^.]+$/.exec(Ke&&Ke.keys&&Ke.keys.IE_PROTO||""))?"Symbol(src)_1."+Qe:"";var Xe=function(e){return!!Ze&&Ze in e},et=Function.prototype.toString;var nt=function(e){if(null!=e){try{return et.call(e)}catch(e){}try{return e+""}catch(e){}}return""},rt=/^\[object .+?Constructor\]$/,ot=Function.prototype,it=Object.prototype,at=ot.toString,ut=it.hasOwnProperty,ct=RegExp("^"+at.call(ut).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var st=function(e){return!(!Ge(e)||Xe(e))&&(Ye(e)?ct:rt).test(nt(e))};var ft=function(e,t){return null==e?void 0:e[t]};var lt=function(e,t){var n=ft(e,t);return st(n)?n:void 0},pt=lt(Ne,"Map"),ht=lt(Object,"create");var dt=function(){this.__data__=ht?ht(null):{},this.size=0};var yt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vt=Object.prototype.hasOwnProperty;var gt=function(e){var t=this.__data__;if(ht){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return vt.call(t,e)?t[e]:void 0},mt=Object.prototype.hasOwnProperty;var bt=function(e){var t=this.__data__;return ht?void 0!==t[e]:mt.call(t,e)};var wt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ht&&void 0===t?"__lodash_hash_undefined__":t,this};function _t(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_t.prototype.clear=dt,_t.prototype.delete=yt,_t.prototype.get=gt,_t.prototype.has=bt,_t.prototype.set=wt;var jt=_t;var Ot=function(){this.size=0,this.__data__={hash:new jt,map:new(pt||Ce),string:new jt}};var St=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var kt=function(e,t){var n=e.__data__;return St(t)?n["string"==typeof t?"string":"hash"]:n.map};var xt=function(e){var t=kt(this,e).delete(e);return this.size-=t?1:0,t};var Et=function(e){return kt(this,e).get(e)};var Ct=function(e){return kt(this,e).has(e)};var Pt=function(e,t){var n=kt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Tt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Tt.prototype.clear=Ot,Tt.prototype.delete=xt,Tt.prototype.get=Et,Tt.prototype.has=Ct,Tt.prototype.set=Pt;var At=Tt;var Rt=function(e,t){var n=this.__data__;if(n instanceof Ce){var r=n.__data__;if(!pt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new At(r)}return n.set(e,t),this.size=n.size,this};function Mt(e){var t=this.__data__=new Ce(e);this.size=t.size}Mt.prototype.clear=Pe,Mt.prototype.delete=Te,Mt.prototype.get=Ae,Mt.prototype.has=Re,Mt.prototype.set=Rt;var Lt=Mt,zt=function(){try{var e=lt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Dt=function(e,t,n){"__proto__"==t&&zt?zt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Nt=function(e,t,n){(void 0!==n&&!we(e[t],n)||void 0===n&&!(t in e))&&Dt(e,t,n)};var It=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var c=a[e?u:++o];if(!1===n(i[c],c,i))break}return t}}(),Ft=Le((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Ne.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}})),qt=Ne.Uint8Array;var $t=function(e){var t=new e.constructor(e.byteLength);return new qt(t).set(new qt(e)),t};var Wt=function(e,t){var n=t?$t(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Vt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Ut=Object.create,Bt=function(){function e(){}return function(t){if(!Ge(t))return{};if(Ut)return Ut(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Ht=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),Jt=Object.prototype;var Gt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Jt)};var Qt=function(e){return"function"!=typeof e.constructor||Gt(e)?{}:Bt(Ht(e))};var Yt=function(e){return null!=e&&"object"==typeof e};var Kt=function(e){return Yt(e)&&"[object Arguments]"==Je(e)},Zt=Object.prototype,Xt=Zt.hasOwnProperty,en=Zt.propertyIsEnumerable,tn=Kt(function(){return arguments}())?Kt:function(e){return Yt(e)&&Xt.call(e,"callee")&&!en.call(e,"callee")},nn=Array.isArray;var rn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var on=function(e){return null!=e&&rn(e.length)&&!Ye(e)};var an=function(e){return Yt(e)&&on(e)};var un=function(){return!1},cn=Le((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Ne.Buffer:void 0,i=(o?o.isBuffer:void 0)||un;e.exports=i})),sn=Function.prototype,fn=Object.prototype,ln=sn.toString,pn=fn.hasOwnProperty,hn=ln.call(Object);var dn=function(e){if(!Yt(e)||"[object Object]"!=Je(e))return!1;var t=Ht(e);if(null===t)return!0;var n=pn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ln.call(n)==hn},yn={};yn["[object Float32Array]"]=yn["[object Float64Array]"]=yn["[object Int8Array]"]=yn["[object Int16Array]"]=yn["[object Int32Array]"]=yn["[object Uint8Array]"]=yn["[object Uint8ClampedArray]"]=yn["[object Uint16Array]"]=yn["[object Uint32Array]"]=!0,yn["[object Arguments]"]=yn["[object Array]"]=yn["[object ArrayBuffer]"]=yn["[object Boolean]"]=yn["[object DataView]"]=yn["[object Date]"]=yn["[object Error]"]=yn["[object Function]"]=yn["[object Map]"]=yn["[object Number]"]=yn["[object Object]"]=yn["[object RegExp]"]=yn["[object Set]"]=yn["[object String]"]=yn["[object WeakMap]"]=!1;var vn=function(e){return Yt(e)&&rn(e.length)&&!!yn[Je(e)]};var gn=function(e){return function(t){return e(t)}},mn=Le((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&ze.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i})),bn=mn&&mn.isTypedArray,wn=bn?gn(bn):vn;var _n=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},jn=Object.prototype.hasOwnProperty;var On=function(e,t,n){var r=e[t];jn.call(e,t)&&we(r,n)&&(void 0!==n||t in e)||Dt(e,t,n)};var Sn=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],c=r?r(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),o?Dt(n,u,c):On(n,u,c)}return n};var kn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},xn=/^(?:0|[1-9]\d*)$/;var En=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&xn.test(e))&&e>-1&&e%1==0&&e<t},Cn=Object.prototype.hasOwnProperty;var Pn=function(e,t){var n=nn(e),r=!n&&tn(e),o=!n&&!r&&cn(e),i=!n&&!r&&!o&&wn(e),a=n||r||o||i,u=a?kn(e.length,String):[],c=u.length;for(var s in e)!t&&!Cn.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||En(s,c))||u.push(s);return u};var Tn=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},An=Object.prototype.hasOwnProperty;var Rn=function(e){if(!Ge(e))return Tn(e);var t=Gt(e),n=[];for(var r in e)("constructor"!=r||!t&&An.call(e,r))&&n.push(r);return n};var Mn=function(e){return on(e)?Pn(e,!0):Rn(e)};var Ln=function(e){return Sn(e,Mn(e))};var zn=function(e,t,n,r,o,i,a){var u=_n(e,n),c=_n(t,n),s=a.get(c);if(s)Nt(e,n,s);else{var f=i?i(u,c,n+"",e,t,a):void 0,l=void 0===f;if(l){var p=nn(c),h=!p&&cn(c),d=!p&&!h&&wn(c);f=c,p||h||d?nn(u)?f=u:an(u)?f=Vt(u):h?(l=!1,f=Ft(c,!0)):d?(l=!1,f=Wt(c,!0)):f=[]:dn(c)||tn(c)?(f=u,tn(u)?f=Ln(u):Ge(u)&&!Ye(u)||(f=Qt(c))):l=!1}l&&(a.set(c,f),o(f,c,r,i,a),a.delete(c)),Nt(e,n,f)}};var Dn=function e(t,n,r,o,i){t!==n&&It(n,(function(a,u){if(i||(i=new Lt),Ge(a))zn(t,n,u,r,e,o,i);else{var c=o?o(_n(t,u),a,u+"",t,n,i):void 0;void 0===c&&(c=a),Nt(t,u,c)}}),Mn)};var Nn=function(e){return e};var In=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Fn=Math.max;var qn=function(e,t,n){return t=Fn(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Fn(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=r[o];return u[t]=n(a),In(e,this,u)}};var $n=function(e){return function(){return e}},Wn=zt?function(e,t){return zt(e,"toString",{configurable:!0,enumerable:!1,value:$n(t),writable:!0})}:Nn,Vn=Date.now;var Un=function(e){var t=0,n=0;return function(){var r=Vn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Wn);var Bn=function(e,t){return Un(qn(e,t,Nn),e+"")};var Hn=function(e,t,n){if(!Ge(n))return!1;var r=typeof t;return!!("number"==r?on(n)&&En(t,n.length):"string"==r&&t in n)&&we(n[t],e)};var Jn=function(e){return Bn((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Hn(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t}))}((function(e,t,n){Dn(e,t,n)})),Gn=["weapp","aliapp","swan","ttapp"],Qn=["OPTIONS","options","GET","get","HEAD","head","POST","post","PUT","put","DELETE","delete","TRACE","trace","CONNECT","connect"];function Yn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return me.checkPropTypes({withCredentials:me.bool.isRequired,env:me.oneOf(Gn),appid:me.string,tokenReqConfig:me.shape({url:me.string,method:me.oneOf(Qn).isRequired,headers:me.object,timeout:me.number}),userInfoReqConfig:me.shape({url:me.string,method:me.oneOf(Qn).isRequired,headers:me.object,timeout:me.number})},e)}var Kn=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xn=function(e,t,n){return t&&Zn(e.prototype,t),n&&Zn(e,n),e},er=Le((function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(r){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(r)}e.exports=n}));var tr=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var nr=function(e,t){return!t||"object"!==er(t)&&"function"!=typeof t?tr(e):t},rr=Le((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t})),or=Le((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t}));var ir=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)};var ar=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};var ur=function(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value};var cr=function(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n},sr=function(e){function t(){var e;return Kn(this,t),e=nr(this,rr(t).call(this)),fr.set(tr(e),{writable:!0,value:{}}),lr.set(tr(e),{writable:!0,value:[]}),pr.set(tr(e),{writable:!0,value:[]}),hr.set(tr(e),{writable:!0,value:[]}),e}return ir(t,e),Xn(t,[{key:"config",value:function(){}},{key:"queue",value:function(){}},{key:"use",value:function(){}},{key:"getToken",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isRefresh:!1,withCredentials:!0};e.isRefresh,e.withCredentials}},{key:"getUserInfo",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.rawData,e.signature,e.encryptedData,e.iv}},{key:"addEventListener",value:function(){}}]),t}(n),fr=new WeakMap,lr=new WeakMap,pr=new WeakMap,hr=new WeakMap,dr="MINI_AUTH:token:",yr="".concat(dr,"beforeRefresh"),vr="".concat(dr,"afterRefresh"),gr="".concat(dr,"beforeCache"),mr="".concat(dr,"afterCache"),br="".concat(dr,"expired"),wr="".concat(dr,"beforeLogin"),_r="".concat(dr,"afterLogin"),jr="".concat(dr,"beforeRequest"),Or="".concat(dr,"afterRequest"),Sr="".concat(dr,"wx:beforeLogin"),kr="".concat(dr,"wx:successLogin"),xr="".concat(dr,"wx:failLogin"),Er="".concat(dr,"wx:beforeRequest"),Cr="".concat(dr,"wx:successRequest"),Pr="".concat(dr,"wx:failRequest"),Tr="".concat(dr,"ali:beforeLogin"),Ar="".concat(dr,"ali:successLogin"),Rr="".concat(dr,"ali:failLogin"),Mr="".concat(dr,"ali:beforeRequest"),Lr="".concat(dr,"ali:successRequest"),zr="".concat(dr,"ali:failRequest");function Dr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.errCode||0;return{errCode:e.errCode||0,errMsg:0===t?"":e.errMsg||JSON.stringify(e),status:e.statusCode||e.status||-1,headers:e.header||null,data:e.data||null}}var Nr=function(){function e(){Kn(this,e),ar(this,"context",{}),ar(this,"middleware",[])}return Xn(e,[{key:"createContext",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Object.create(this.context);return Object.assign(t,e)}},{key:"dispatch",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=this.createContext(e),r=this.runMiddleware(t||this.middleware);return r(n)}},{key:"runMiddleware",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return function(t,n){var r=-1;return new G((function(o,i){!function a(u,c){if(u<=r)return i(Dr({errCode:5004,errMsg:"next() called multiple times"}));if(c)return i(c);var s=e[r=u];if(r===e.length&&(s=n),!s)return o(t);try{return s(t,a.bind(null,r+1))}catch(e){return i(Dr({errCode:5005,errMsg:JSON.stringify(e)}))}}(0,null)}))}}},{key:"use",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};if("function"!=typeof e)throw new Error("middle must be function!");this.middleware.push(e)}},{key:"useBatch",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){e.use(t)}))}}]),e}();function Ir(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return me.checkPropTypes({timeout:me.number,scopes:me.array,force:me.bool},e)}var Fr={timeout:2e4,scopes:["auth_base"],force:!0};function qr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"noName",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};e&&"function"==typeof e.emit&&e.emit(t,n)}function $r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{timeout:2e4},t=e.timeout,n=e.self;return new G((function(e,r){wx.login({timeout:t,success:function(t){e({errCode:0,errMsg:"",jsCode:t.code}),qr(n,kr,{res:t})},fail:function(e){r({errCode:5e3,errMsg:e.errMsg||JSON.stringify(e),jsCode:""}),qr(n,xr,{err:e})}}),qr(n,Sr,{timeout:t})}))}function Wr(){return"undefined"!=typeof wx&&wx?wx:"undefined"!=typeof my&&my?my:"undefined"!=typeof swan&&swan?swan:"undefined"!=typeof tt&&tt?tt:global}var Vr=Wr();function Ur(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{scopes:["auth_base"]},t=e.scopes,n=e.self;return new G((function(e,r){Vr.getAuthCode({scopes:t,success:function(t){e({errCode:0,errMsg:"",jsCode:t.authCode}),qr(n,Ar,{res:t})},fail:function(e){r({errCode:5009,errMsg:e.errMsg||JSON.stringify(e),jsCode:""}),qr(n,Rr,{err:e})}}),qr(n,Tr,{scopes:t})}))}function Br(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp"},t=e.timeout,n=e.env,r=e.scopes,o=e.force,i=e.self,a=null;switch(Ir(Jn(Fr,{timeout:t,scopes:r,force:o})),n){case"aliapp":a=Ur({scopes:r,self:i});break;case"swan":case"ttapp":case"weapp":default:a=$r({timeout:t,self:i})}return a}function Hr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return me.checkPropTypes({url:me.string,data:me.object,headers:me.object,timeout:me.number,method:me.string},e)}var Jr={url:"",data:{},headers:{},timeout:3e4,method:"GET"};function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Gr(t,!0).forEach((function(n){ar(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gr(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Yr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{method:"GET",data:{}},t=e.url,n=e.data,r=e.headers,o=e.method,i=e.self;return new G((function(e,a){wx.request({url:t,data:n,header:r,method:o,success:function(t){e(Dr(Qr({errCode:0},t))),qr(i,Cr,{res:t})},fail:function(e){var t=5003;e.errMsg?t=-1<e.errMsg.toLowerCase().indexOf("timeout")?5001:5002:t=5003;a(Dr(Qr({errCode:t},e))),qr(i,Pr,{err:e})}}),qr(i,Er,{url:t,data:n,headers:r,method:o})}))}function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Kr(t,!0).forEach((function(n){ar(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kr(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Xr=Wr();function eo(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{method:"GET",data:{}},t=e.url,n=e.data,r=e.headers,o=e.method,i=e.timeout,a=e.self;return new G((function(e,u){Xr.request({url:t,data:n,headers:r,method:o,timeout:i,success:function(t){e(Dr(Zr({errCode:0},t))),qr(a,Lr,{res:t})},fail:function(e){var t=5006;e.errMsg?t=-1<e.errMsg.toLowerCase().indexOf("timeout")?5007:5008:t=5006;u(Dr(Zr({errCode:t},e))),qr(a,zr,{err:e})}}),qr(a,Mr,{url:t,data:n,headers:r,method:o,timeout:i})}))}function to(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp"},t=e.url,n=e.timeout,r=e.data,o=e.headers,i=e.method,a=e.env,u=e.self,c=null;switch(Hr(Jn(Jr,{url:t,timeout:n,data:r,headers:o,method:i})),a){case"aliapp":c=eo({self:u,url:t,data:r,headers:o,method:i});break;case"swan":case"ttapp":case"weapp":default:c=Yr({self:u,url:t,data:r,headers:o,method:i})}return c}var no=Wr(),ro={setStorageSync:no.setStorageSync.bind(no),getStorageSync:no.getStorageSync.bind(no),removeStorageSync:no.removeStorageSync.bind(no)},oo=Wr(),io={setStorageSync:oo.setStorageSync.bind(oo),getStorageSync:oo.getStorageSync.bind(oo),removeStorageSync:oo.removeStorageSync.bind(oo)};function ao(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp"},t=e.env;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";try{switch(t){case"aliapp":io.setStorageSync({key:e,data:n});break;case"swan":case"ttapp":case"weapp":default:ro.setStorageSync(e,n)}}catch(e){throw e}}}function uo(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp"},t=e.env;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=null;try{switch(t){case"aliapp":n=io.getStorageSync({key:e}).data;break;case"swan":case"ttapp":case"weapp":default:n=ro.getStorageSync(e)}}catch(e){throw e}return n}}function co(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp"},t=e.env;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";try{switch(t){case"aliapp":io.removeStorageSync({key:e});break;case"swan":case"ttapp":case"weapp":default:ro.removeStorageSync(e)}}catch(e){throw e}}}function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?so(t,!0).forEach((function(n){ar(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):so(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function lo(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var po=function(e){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Kn(this,t),e=nr(this,rr(t).call(this)),jo.add(tr(e)),_o.add(tr(e)),ho.set(tr(e),{writable:!0,value:{}}),yo.set(tr(e),{writable:!0,value:[]}),vo.set(tr(e),{writable:!0,value:[]}),go.set(tr(e),{writable:!0,value:[]}),mo.set(tr(e),{writable:!0,value:[]}),bo.set(tr(e),{writable:!0,value:68e5}),wo.set(tr(e),{writable:!0,value:!1}),ar(tr(e),"tokenReqData",{}),ar(tr(e),"tokenResData",{}),e.middleware=new Nr,cr(tr(e),ho,n),e}return ir(t,e),Xn(t,[{key:"use",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};if("function"==typeof t)switch(e){case"afterToken":ur(this,go).push(t);break;case"user":ur(this,mo).push(t);break;case"token":default:ur(this,vo).push(t)}}},{key:"set2Storage",value:function(){function e(t){try{ao({env:ur(this,ho).env})(r.key,r.data)}catch(n){console.error(n),0<t&&e.call(this,t-1)}return r.data}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"token",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=lo(this,jo,So).call(this,t,n);return e.call(this,3)}},{key:"getDataFromStorage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"token",t=null;try{t=uo({env:ur(this,ho).env})(lo(this,_o,Oo).call(this,e))}catch(e){console.error(e)}return t}},{key:"clearStorage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"token";try{co({env:ur(this,ho).env})(lo(this,_o,Oo).call(this,e))}catch(e){console.error(e)}}},{key:"isExpired",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e){var t=e.expirationTime;return!(t&&t>Date.now())}return!0}},{key:"setTokenExpires",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;(!e||isNaN(e))&&(e=68e5),cr(this,bo,+e)}},{key:"runQueues",value:function(e,t){if(ur(this,yo)&&Array.isArray(ur(this,yo))){var n=ur(this,yo).length;ur(this,yo).splice(0,n).forEach((function(n){var r=n.resolve,o=n.reject;return e?o(e):r(t)}))}}},{key:"setTokenReqConfig",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return null==e?null:void(ur(this,ho).tokenReqConfig[e]=t)}},{key:"getToken",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isRefresh:!1},n=t.isRefresh,r=t.scopes;return new G((function(t,o){if(ur(e,wo))return ur(e,yo).push({resolve:t,reject:o});var i=ur(e,ho).env,a=ur(e,ho).tokenReqConfig,u=a.url,c=(a.headers,a.method),s=null;if(n)e.emit(yr),e.clearStorage("token"),e.emit(vr);else{if(s=e.getDataFromStorage("token"),e.emit(gr,s),s&&!e.isExpired(s))return t(s),void e.emit(mr,s);e.emit(br,s),e.clearStorage("token")}e.emit(wr),cr(e,wo,!0),Br({self:e,env:i,scopes:r}).then((function(t){return e.tokenReqData.jsCode=t.jsCode,e.emit(_r,t),e.middleware.dispatch(e,ur(e,vo))})).then((function(t){return e.emit(jr),to({self:e,env:i,url:u,method:c,headers:a.headers||ur(e,ho).headers,data:fo({},t.tokenReqData)})})).then((function(t){return e.tokenResData=t,e.middleware.dispatch(e,ur(e,go))})).then((function(t){return e.emit(Or,t.tokenResData),e.set2Storage("token",t.tokenResData)})).then((function(n){t(n),e.runQueues(null,n),cr(e,wo,!1),cr(e,yo,[])})).catch((function(t){o(t),e.runQueues(t),cr(e,wo,!1),cr(e,yo,[])}))}))}},{key:"config",get:function(){return ur(this,ho)}},{key:"queue",get:function(){return this.waitQueues}}]),t}(sr),ho=new WeakMap,yo=new WeakMap,vo=new WeakMap,go=new WeakMap,mo=new WeakMap,bo=new WeakMap,wo=new WeakMap,_o=new WeakSet,jo=new WeakSet,Oo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"token";return"MINI_AUTH:".concat(e,":").concat(ur(this,ho).appid)},So=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"token",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return{key:lo(this,_o,Oo).call(this,e),data:{data:t,expires:ur(this,bo),expirationTime:Date.now()+ur(this,bo)}}},ko={withCredentials:!1,env:"weapp",appid:"mockAppid",tokenReqConfig:{url:"",method:"GET",headers:{"content-type":"application/json"},timeout:1e4},userInfoReqConfig:{url:"",method:"GET",headers:{"content-type":"application/json"},timeout:1e4}};function xo(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Jn(ko,e);return Yn(t),new po(t)}var Eo=xo(ko);Eo.create=xo;var Co=Po;function Po(e,t){if(!e)throw new Error(t||"Assertion failed")}Po.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)},global.setTimeout,global.clearTimeout;var To=global.performance||{},Ao=(To.now||To.mozNow||To.msNow||To.oNow||To.webkitNow,/%[sdj%]/g);function Ro(e){if(!Bo(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(zo(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,i=String(e).replace(Ao,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),a=r[n];n<o;a=r[++n])Vo(a)||!Go(a)?i+=" "+a:i+=" "+zo(a);return i}var Mo,Lo={};function zo(e,t){var n={seen:[],stylize:No};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),Wo(t)?n.showHidden=t:t&&ni(n,t),Ho(n.showHidden)&&(n.showHidden=!1),Ho(n.depth)&&(n.depth=2),Ho(n.colors)&&(n.colors=!1),Ho(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Do),Io(n,e,n.depth)}function Do(e,t){var n=zo.styles[t];return n?"["+zo.colors[n][0]+"m"+e+"["+zo.colors[n][1]+"m":e}function No(e,t){return e}function Io(e,t,n){if(e.customInspect&&t&&Ko(t.inspect)&&t.inspect!==zo&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return Bo(r)||(r=Io(e,r,n)),r}var o=function(e,t){if(Ho(t))return e.stylize("undefined","undefined");if(Bo(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(Uo(t))return e.stylize(""+t,"number");if(Wo(t))return e.stylize(""+t,"boolean");if(Vo(t))return e.stylize("null","null")}(e,t);if(o)return o;var i=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),Yo(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return Fo(t);if(0===i.length){if(Ko(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(Jo(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Qo(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Yo(t))return Fo(t)}var c,s="",f=!1,l=["{","}"];($o(t)&&(f=!0,l=["[","]"]),Ko(t))&&(s=" [Function"+(t.name?": "+t.name:"")+"]");return Jo(t)&&(s=" "+RegExp.prototype.toString.call(t)),Qo(t)&&(s=" "+Date.prototype.toUTCString.call(t)),Yo(t)&&(s=" "+Fo(t)),0!==i.length||f&&0!=t.length?n<0?Jo(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=f?function(e,t,n,r,o){for(var i=[],a=0,u=t.length;a<u;++a)ri(t,String(a))?i.push(qo(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(qo(e,t,n,r,o,!0))})),i}(e,t,n,a,i):i.map((function(r){return qo(e,t,n,a,r,f)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,s,l)):l[0]+s+l[1]}function Fo(e){return"["+Error.prototype.toString.call(e)+"]"}function qo(e,t,n,r,o,i){var a,u,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),ri(r,o)||(a="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=Vo(n)?Io(e,c.value,null):Io(e,c.value,n-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+u.split("\n").map((function(e){return"   "+e})).join("\n")):u=e.stylize("[Circular]","special")),Ho(a)){if(i&&o.match(/^\d+$/))return u;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function $o(e){return Array.isArray(e)}function Wo(e){return"boolean"==typeof e}function Vo(e){return null===e}function Uo(e){return"number"==typeof e}function Bo(e){return"string"==typeof e}function Ho(e){return void 0===e}function Jo(e){return Go(e)&&"[object RegExp]"===Zo(e)}function Go(e){return"object"==typeof e&&null!==e}function Qo(e){return Go(e)&&"[object Date]"===Zo(e)}function Yo(e){return Go(e)&&("[object Error]"===Zo(e)||e instanceof Error)}function Ko(e){return"function"==typeof e}function Zo(e){return Object.prototype.toString.call(e)}function Xo(e){return e<10?"0"+e.toString(10):e.toString(10)}zo.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},zo.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var ei=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ti(){var e=new Date,t=[Xo(e.getHours()),Xo(e.getMinutes()),Xo(e.getSeconds())].join(":");return[e.getDate(),ei[e.getMonth()],t].join(" ")}function ni(e,t){if(!t||!Go(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function ri(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var oi={inherits:h,_extend:ni,log:function(){console.log("%s - %s",ti(),Ro.apply(null,arguments))},isBuffer:function(e){return Buffer.isBuffer(e)},isPrimitive:function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},isFunction:Ko,isError:Yo,isDate:Qo,isObject:Go,isRegExp:Jo,isUndefined:Ho,isSymbol:function(e){return"symbol"==typeof e},isString:Bo,isNumber:Uo,isNullOrUndefined:function(e){return null==e},isNull:Vo,isBoolean:Wo,isArray:$o,inspect:zo,deprecate:function e(t,n){if(Ho(global.process))return function(){return e(t,n).apply(this,arguments)};var r=!1;return function(){return r||(console.error(n),r=!0),t.apply(this,arguments)}},format:Ro,debuglog:function(e){if(Ho(Mo)&&(Mo=""),e=e.toUpperCase(),!Lo[e])if(new RegExp("\\b"+e+"\\b","i").test(Mo)){Lo[e]=function(){var t=Ro.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else Lo[e]=function(){};return Lo[e]}},ii=Y((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}}));function ai(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function ui(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function ci(e){return 1===e.length?"0"+e:e}function si(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var fi={inherits:Y((function(e){try{var t=oi;if("function"!=typeof t.inherits)throw"";e.exports=t.inherits}catch(t){e.exports=ii}})),toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),o=0;o<e.length;o+=2)n.push(parseInt(e[o]+e[o+1],16))}else for(var r=0,o=0;o<e.length;o++){var i=e.charCodeAt(o);i<128?n[r++]=i:i<2048?(n[r++]=i>>6|192,n[r++]=63&i|128):ai(e,o)?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++o)),n[r++]=i>>18|240,n[r++]=i>>12&63|128,n[r++]=i>>6&63|128,n[r++]=63&i|128):(n[r++]=i>>12|224,n[r++]=i>>6&63|128,n[r++]=63&i|128)}else for(o=0;o<e.length;o++)n[o]=0|e[o];return n},toHex:function(e){for(var t="",n=0;n<e.length;n++)t+=ci(e[n].toString(16));return t},htonl:ui,toHex32:function(e,t){for(var n="",r=0;r<e.length;r++){var o=e[r];"little"===t&&(o=ui(o)),n+=si(o.toString(16))}return n},zero2:ci,zero8:si,join32:function(e,t,n,r){var o=n-t;Co(o%4==0);for(var i=new Array(o/4),a=0,u=t;a<i.length;a++,u+=4){var c;c="big"===r?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],i[a]=c>>>0}return i},split32:function(e,t){for(var n=new Array(4*e.length),r=0,o=0;r<e.length;r++,o+=4){var i=e[r];"big"===t?(n[o]=i>>>24,n[o+1]=i>>>16&255,n[o+2]=i>>>8&255,n[o+3]=255&i):(n[o+3]=i>>>24,n[o+2]=i>>>16&255,n[o+1]=i>>>8&255,n[o]=255&i)}return n},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,n){return e+t+n>>>0},sum32_4:function(e,t,n,r){return e+t+n+r>>>0},sum32_5:function(e,t,n,r,o){return e+t+n+r+o>>>0},sum64:function(e,t,n,r){var o=e[t],i=r+e[t+1]>>>0,a=(i<r?1:0)+n+o;e[t]=a>>>0,e[t+1]=i},sum64_hi:function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},sum64_lo:function(e,t,n,r){return t+r>>>0},sum64_4_hi:function(e,t,n,r,o,i,a,u){var c=0,s=t;return c+=(s=s+r>>>0)<t?1:0,c+=(s=s+i>>>0)<i?1:0,e+n+o+a+(c+=(s=s+u>>>0)<u?1:0)>>>0},sum64_4_lo:function(e,t,n,r,o,i,a,u){return t+r+i+u>>>0},sum64_5_hi:function(e,t,n,r,o,i,a,u,c,s){var f=0,l=t;return f+=(l=l+r>>>0)<t?1:0,f+=(l=l+i>>>0)<i?1:0,f+=(l=l+u>>>0)<u?1:0,e+n+o+a+c+(f+=(l=l+s>>>0)<s?1:0)>>>0},sum64_5_lo:function(e,t,n,r,o,i,a,u,c,s){return t+r+i+u+s>>>0},rotr64_hi:function(e,t,n){return(t<<32-n|e>>>n)>>>0},rotr64_lo:function(e,t,n){return(e<<32-n|t>>>n)>>>0},shr64_hi:function(e,t,n){return e>>>n},shr64_lo:function(e,t,n){return(e<<32-n|t>>>n)>>>0}};function li(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var pi=li;li.prototype.update=function(e,t){if(e=fi.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=fi.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},li.prototype.digest=function(e){return this.update(this._pad()),Co(null===this.pending),this._digest(e)},li.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var o=1;o<n;o++)r[o]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)r[o++]=0;r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=e>>>24&255,r[o++]=e>>>16&255,r[o++]=e>>>8&255,r[o++]=255&e}else for(r[o++]=255&e,r[o++]=e>>>8&255,r[o++]=e>>>16&255,r[o++]=e>>>24&255,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,i=8;i<this.padLength;i++)r[o++]=0;return r};var hi={BlockHash:pi},di=fi.rotr32;function yi(e,t,n){return e&t^~e&n}function vi(e,t,n){return e&t^e&n^t&n}function gi(e,t,n){return e^t^n}var mi={ft_1:function(e,t,n,r){return 0===e?yi(t,n,r):1===e||3===e?gi(t,n,r):2===e?vi(t,n,r):void 0},ch32:yi,maj32:vi,p32:gi,s0_256:function(e){return di(e,2)^di(e,13)^di(e,22)},s1_256:function(e){return di(e,6)^di(e,11)^di(e,25)},g0_256:function(e){return di(e,7)^di(e,18)^e>>>3},g1_256:function(e){return di(e,17)^di(e,19)^e>>>10}},bi=fi.sum32,wi=fi.sum32_4,_i=fi.sum32_5,ji=mi.ch32,Oi=mi.maj32,Si=mi.s0_256,ki=mi.s1_256,xi=mi.g0_256,Ei=mi.g1_256,Ci=hi.BlockHash,Pi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ti(){if(!(this instanceof Ti))return new Ti;Ci.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Pi,this.W=new Array(64)}fi.inherits(Ti,Ci);var Ai=Ti;Ti.blockSize=512,Ti.outSize=256,Ti.hmacStrength=192,Ti.padLength=64,Ti.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=wi(Ei(n[r-2]),n[r-7],xi(n[r-15]),n[r-16]);var o=this.h[0],i=this.h[1],a=this.h[2],u=this.h[3],c=this.h[4],s=this.h[5],f=this.h[6],l=this.h[7];for(Co(this.k.length===n.length),r=0;r<n.length;r++){var p=_i(l,ki(c),ji(c,s,f),this.k[r],n[r]),h=bi(Si(o),Oi(o,i,a));l=f,f=s,s=c,c=bi(u,p),u=a,a=i,i=o,o=bi(p,h)}this.h[0]=bi(this.h[0],o),this.h[1]=bi(this.h[1],i),this.h[2]=bi(this.h[2],a),this.h[3]=bi(this.h[3],u),this.h[4]=bi(this.h[4],c),this.h[5]=bi(this.h[5],s),this.h[6]=bi(this.h[6],f),this.h[7]=bi(this.h[7],l)},Ti.prototype._digest=function(e){return"hex"===e?fi.toHex32(this.h,"big"):fi.split32(this.h,"big")};var Ri=null;e.creatMiniAuth=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{env:"weapp"},t=e.appid,n=e.env,r=e.url,o=e.appKey,i=e.appCode,a=e.headers;if(Ri)return Ri;var u={url:r,method:"POST",headers:a};return(Ri=Eo.create({appid:t,env:n,tokenReqConfig:u})).use("token",(function(e,t){var n=e.tokenReqData.jsCode;n&&("undefined"!=typeof wx&&wx&&(e.tokenReqData={js_code:n}),"undefined"!=typeof my&&my&&(e.tokenReqData={auth_code:n}),!u.headers&&(u.headers={}),u.headers["Authorization-AppKey"]=o,u.headers["Authorization-Sign"]=Ai().update("".concat(o).concat(JSON.stringify(e.tokenReqData)).concat(i)).digest("hex"),Ri.setTokenReqConfig("headers",u.headers)),t()})),Ri.use("afterToken",(function(e,t){var n=e.tokenResData.data,r=n.data,o=void 0===r?{}:r,i=n.retcode,a=n.msg,u=n.code;return 200===i||200===u?(e.tokenResData=o,t()):t({retcode:i||u,msg:a,data:o})})),Ri},e.getToken=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new G((function(t,n){!function r(o){Ri.getToken(e).then((function(e){t(e)})).catch((function(e){5001===e.errCode||5002===e.errCode?o>=3?n(e):setTimeout((function(){r(o+1)}),2e3):n(e)}))}(0)}))},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=mini-auth-v1.min.js.map
