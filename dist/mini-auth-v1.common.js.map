{"version":3,"file":"mini-auth-v1.common.js","sources":["../node_modules/minimalistic-assert/index.js","../node_modules/process-es6/browser.js","../node_modules/@joseph184/rollup-plugin-node-builtins/src/es6/inherits.js","../node_modules/@joseph184/rollup-plugin-node-builtins/src/es6/util.js","../node_modules/inherits/inherits_browser.js","../node_modules/hash.js/lib/hash/utils.js","../node_modules/inherits/inherits.js","../node_modules/hash.js/lib/hash/common.js","../node_modules/hash.js/lib/hash/sha/common.js","../node_modules/hash.js/lib/hash/sha/256.js","../src/lib/index.js"],"sourcesContent":["module.exports = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","\nvar inherits;\nif (typeof Object.create === 'function'){\n  inherits = function inherits(ctor, superCtor) {\n    // implementation from standard node.js 'util' module\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  inherits = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\nexport default inherits;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nimport process from 'process';\nvar formatRegExp = /%[sdj%]/g;\nexport function format(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexport function deprecate(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexport function debuglog(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = 0;\n      debugs[set] = function() {\n        var msg = format.apply(null, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nexport function inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    _extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexport function isArray(ar) {\n  return Array.isArray(ar);\n}\n\nexport function isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\n\nexport function isNull(arg) {\n  return arg === null;\n}\n\nexport function isNullOrUndefined(arg) {\n  return arg == null;\n}\n\nexport function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nexport function isString(arg) {\n  return typeof arg === 'string';\n}\n\nexport function isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\n\nexport function isUndefined(arg) {\n  return arg === void 0;\n}\n\nexport function isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\n\nexport function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nexport function isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\n\nexport function isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\n\nexport function isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nexport function isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\n\nexport function isBuffer(maybeBuf) {\n  return Buffer.isBuffer(maybeBuf);\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexport function log() {\n  console.log('%s - %s', timestamp(), format.apply(null, arguments));\n}\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nimport inherits from './inherits';\nexport {inherits}\n\nexport function _extend(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport default {\n  inherits: inherits,\n  _extend: _extend,\n  log: log,\n  isBuffer: isBuffer,\n  isPrimitive: isPrimitive,\n  isFunction: isFunction,\n  isError: isError,\n  isDate: isDate,\n  isObject: isObject,\n  isRegExp: isRegExp,\n  isUndefined: isUndefined,\n  isSymbol: isSymbol,\n  isString: isString,\n  isNumber: isNumber,\n  isNullOrUndefined: isNullOrUndefined,\n  isNull: isNull,\n  isBoolean: isBoolean,\n  isArray: isArray,\n  inspect: inspect,\n  deprecate: deprecate,\n  format: format,\n  debuglog: debuglog\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar assert = require('minimalistic-assert');\nvar inherits = require('inherits');\n\nexports.inherits = inherits;\n\nfunction isSurrogatePair(msg, i) {\n  if ((msg.charCodeAt(i) & 0xFC00) !== 0xD800) {\n    return false;\n  }\n  if (i < 0 || i + 1 >= msg.length) {\n    return false;\n  }\n  return (msg.charCodeAt(i + 1) & 0xFC00) === 0xDC00;\n}\n\nfunction toArray(msg, enc) {\n  if (Array.isArray(msg))\n    return msg.slice();\n  if (!msg)\n    return [];\n  var res = [];\n  if (typeof msg === 'string') {\n    if (!enc) {\n      // Inspired by stringToUtf8ByteArray() in closure-library by Google\n      // https://github.com/google/closure-library/blob/8598d87242af59aac233270742c8984e2b2bdbe0/closure/goog/crypt/crypt.js#L117-L143\n      // Apache License 2.0\n      // https://github.com/google/closure-library/blob/master/LICENSE\n      var p = 0;\n      for (var i = 0; i < msg.length; i++) {\n        var c = msg.charCodeAt(i);\n        if (c < 128) {\n          res[p++] = c;\n        } else if (c < 2048) {\n          res[p++] = (c >> 6) | 192;\n          res[p++] = (c & 63) | 128;\n        } else if (isSurrogatePair(msg, i)) {\n          c = 0x10000 + ((c & 0x03FF) << 10) + (msg.charCodeAt(++i) & 0x03FF);\n          res[p++] = (c >> 18) | 240;\n          res[p++] = ((c >> 12) & 63) | 128;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        } else {\n          res[p++] = (c >> 12) | 224;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        }\n      }\n    } else if (enc === 'hex') {\n      msg = msg.replace(/[^a-z0-9]+/ig, '');\n      if (msg.length % 2 !== 0)\n        msg = '0' + msg;\n      for (i = 0; i < msg.length; i += 2)\n        res.push(parseInt(msg[i] + msg[i + 1], 16));\n    }\n  } else {\n    for (i = 0; i < msg.length; i++)\n      res[i] = msg[i] | 0;\n  }\n  return res;\n}\nexports.toArray = toArray;\n\nfunction toHex(msg) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++)\n    res += zero2(msg[i].toString(16));\n  return res;\n}\nexports.toHex = toHex;\n\nfunction htonl(w) {\n  var res = (w >>> 24) |\n            ((w >>> 8) & 0xff00) |\n            ((w << 8) & 0xff0000) |\n            ((w & 0xff) << 24);\n  return res >>> 0;\n}\nexports.htonl = htonl;\n\nfunction toHex32(msg, endian) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++) {\n    var w = msg[i];\n    if (endian === 'little')\n      w = htonl(w);\n    res += zero8(w.toString(16));\n  }\n  return res;\n}\nexports.toHex32 = toHex32;\n\nfunction zero2(word) {\n  if (word.length === 1)\n    return '0' + word;\n  else\n    return word;\n}\nexports.zero2 = zero2;\n\nfunction zero8(word) {\n  if (word.length === 7)\n    return '0' + word;\n  else if (word.length === 6)\n    return '00' + word;\n  else if (word.length === 5)\n    return '000' + word;\n  else if (word.length === 4)\n    return '0000' + word;\n  else if (word.length === 3)\n    return '00000' + word;\n  else if (word.length === 2)\n    return '000000' + word;\n  else if (word.length === 1)\n    return '0000000' + word;\n  else\n    return word;\n}\nexports.zero8 = zero8;\n\nfunction join32(msg, start, end, endian) {\n  var len = end - start;\n  assert(len % 4 === 0);\n  var res = new Array(len / 4);\n  for (var i = 0, k = start; i < res.length; i++, k += 4) {\n    var w;\n    if (endian === 'big')\n      w = (msg[k] << 24) | (msg[k + 1] << 16) | (msg[k + 2] << 8) | msg[k + 3];\n    else\n      w = (msg[k + 3] << 24) | (msg[k + 2] << 16) | (msg[k + 1] << 8) | msg[k];\n    res[i] = w >>> 0;\n  }\n  return res;\n}\nexports.join32 = join32;\n\nfunction split32(msg, endian) {\n  var res = new Array(msg.length * 4);\n  for (var i = 0, k = 0; i < msg.length; i++, k += 4) {\n    var m = msg[i];\n    if (endian === 'big') {\n      res[k] = m >>> 24;\n      res[k + 1] = (m >>> 16) & 0xff;\n      res[k + 2] = (m >>> 8) & 0xff;\n      res[k + 3] = m & 0xff;\n    } else {\n      res[k + 3] = m >>> 24;\n      res[k + 2] = (m >>> 16) & 0xff;\n      res[k + 1] = (m >>> 8) & 0xff;\n      res[k] = m & 0xff;\n    }\n  }\n  return res;\n}\nexports.split32 = split32;\n\nfunction rotr32(w, b) {\n  return (w >>> b) | (w << (32 - b));\n}\nexports.rotr32 = rotr32;\n\nfunction rotl32(w, b) {\n  return (w << b) | (w >>> (32 - b));\n}\nexports.rotl32 = rotl32;\n\nfunction sum32(a, b) {\n  return (a + b) >>> 0;\n}\nexports.sum32 = sum32;\n\nfunction sum32_3(a, b, c) {\n  return (a + b + c) >>> 0;\n}\nexports.sum32_3 = sum32_3;\n\nfunction sum32_4(a, b, c, d) {\n  return (a + b + c + d) >>> 0;\n}\nexports.sum32_4 = sum32_4;\n\nfunction sum32_5(a, b, c, d, e) {\n  return (a + b + c + d + e) >>> 0;\n}\nexports.sum32_5 = sum32_5;\n\nfunction sum64(buf, pos, ah, al) {\n  var bh = buf[pos];\n  var bl = buf[pos + 1];\n\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  buf[pos] = hi >>> 0;\n  buf[pos + 1] = lo;\n}\nexports.sum64 = sum64;\n\nfunction sum64_hi(ah, al, bh, bl) {\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  return hi >>> 0;\n}\nexports.sum64_hi = sum64_hi;\n\nfunction sum64_lo(ah, al, bh, bl) {\n  var lo = al + bl;\n  return lo >>> 0;\n}\nexports.sum64_lo = sum64_lo;\n\nfunction sum64_4_hi(ah, al, bh, bl, ch, cl, dh, dl) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + carry;\n  return hi >>> 0;\n}\nexports.sum64_4_hi = sum64_4_hi;\n\nfunction sum64_4_lo(ah, al, bh, bl, ch, cl, dh, dl) {\n  var lo = al + bl + cl + dl;\n  return lo >>> 0;\n}\nexports.sum64_4_lo = sum64_4_lo;\n\nfunction sum64_5_hi(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n  lo = (lo + el) >>> 0;\n  carry += lo < el ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + eh + carry;\n  return hi >>> 0;\n}\nexports.sum64_5_hi = sum64_5_hi;\n\nfunction sum64_5_lo(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var lo = al + bl + cl + dl + el;\n\n  return lo >>> 0;\n}\nexports.sum64_5_lo = sum64_5_lo;\n\nfunction rotr64_hi(ah, al, num) {\n  var r = (al << (32 - num)) | (ah >>> num);\n  return r >>> 0;\n}\nexports.rotr64_hi = rotr64_hi;\n\nfunction rotr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.rotr64_lo = rotr64_lo;\n\nfunction shr64_hi(ah, al, num) {\n  return ah >>> num;\n}\nexports.shr64_hi = shr64_hi;\n\nfunction shr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.shr64_lo = shr64_lo;\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","'use strict';\n\nvar utils = require('./utils');\nvar assert = require('minimalistic-assert');\n\nfunction BlockHash() {\n  this.pending = null;\n  this.pendingTotal = 0;\n  this.blockSize = this.constructor.blockSize;\n  this.outSize = this.constructor.outSize;\n  this.hmacStrength = this.constructor.hmacStrength;\n  this.padLength = this.constructor.padLength / 8;\n  this.endian = 'big';\n\n  this._delta8 = this.blockSize / 8;\n  this._delta32 = this.blockSize / 32;\n}\nexports.BlockHash = BlockHash;\n\nBlockHash.prototype.update = function update(msg, enc) {\n  // Convert message to array, pad it, and join into 32bit blocks\n  msg = utils.toArray(msg, enc);\n  if (!this.pending)\n    this.pending = msg;\n  else\n    this.pending = this.pending.concat(msg);\n  this.pendingTotal += msg.length;\n\n  // Enough data, try updating\n  if (this.pending.length >= this._delta8) {\n    msg = this.pending;\n\n    // Process pending data in blocks\n    var r = msg.length % this._delta8;\n    this.pending = msg.slice(msg.length - r, msg.length);\n    if (this.pending.length === 0)\n      this.pending = null;\n\n    msg = utils.join32(msg, 0, msg.length - r, this.endian);\n    for (var i = 0; i < msg.length; i += this._delta32)\n      this._update(msg, i, i + this._delta32);\n  }\n\n  return this;\n};\n\nBlockHash.prototype.digest = function digest(enc) {\n  this.update(this._pad());\n  assert(this.pending === null);\n\n  return this._digest(enc);\n};\n\nBlockHash.prototype._pad = function pad() {\n  var len = this.pendingTotal;\n  var bytes = this._delta8;\n  var k = bytes - ((len + this.padLength) % bytes);\n  var res = new Array(k + this.padLength);\n  res[0] = 0x80;\n  for (var i = 1; i < k; i++)\n    res[i] = 0;\n\n  // Append length\n  len <<= 3;\n  if (this.endian === 'big') {\n    for (var t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = len & 0xff;\n  } else {\n    res[i++] = len & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n\n    for (t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n  }\n\n  return res;\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar rotr32 = utils.rotr32;\n\nfunction ft_1(s, x, y, z) {\n  if (s === 0)\n    return ch32(x, y, z);\n  if (s === 1 || s === 3)\n    return p32(x, y, z);\n  if (s === 2)\n    return maj32(x, y, z);\n}\nexports.ft_1 = ft_1;\n\nfunction ch32(x, y, z) {\n  return (x & y) ^ ((~x) & z);\n}\nexports.ch32 = ch32;\n\nfunction maj32(x, y, z) {\n  return (x & y) ^ (x & z) ^ (y & z);\n}\nexports.maj32 = maj32;\n\nfunction p32(x, y, z) {\n  return x ^ y ^ z;\n}\nexports.p32 = p32;\n\nfunction s0_256(x) {\n  return rotr32(x, 2) ^ rotr32(x, 13) ^ rotr32(x, 22);\n}\nexports.s0_256 = s0_256;\n\nfunction s1_256(x) {\n  return rotr32(x, 6) ^ rotr32(x, 11) ^ rotr32(x, 25);\n}\nexports.s1_256 = s1_256;\n\nfunction g0_256(x) {\n  return rotr32(x, 7) ^ rotr32(x, 18) ^ (x >>> 3);\n}\nexports.g0_256 = g0_256;\n\nfunction g1_256(x) {\n  return rotr32(x, 17) ^ rotr32(x, 19) ^ (x >>> 10);\n}\nexports.g1_256 = g1_256;\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar shaCommon = require('./common');\nvar assert = require('minimalistic-assert');\n\nvar sum32 = utils.sum32;\nvar sum32_4 = utils.sum32_4;\nvar sum32_5 = utils.sum32_5;\nvar ch32 = shaCommon.ch32;\nvar maj32 = shaCommon.maj32;\nvar s0_256 = shaCommon.s0_256;\nvar s1_256 = shaCommon.s1_256;\nvar g0_256 = shaCommon.g0_256;\nvar g1_256 = shaCommon.g1_256;\n\nvar BlockHash = common.BlockHash;\n\nvar sha256_K = [\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5,\n  0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,\n  0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n  0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7,\n  0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,\n  0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3,\n  0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5,\n  0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n  0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n];\n\nfunction SHA256() {\n  if (!(this instanceof SHA256))\n    return new SHA256();\n\n  BlockHash.call(this);\n  this.h = [\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a,\n    0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n  ];\n  this.k = sha256_K;\n  this.W = new Array(64);\n}\nutils.inherits(SHA256, BlockHash);\nmodule.exports = SHA256;\n\nSHA256.blockSize = 512;\nSHA256.outSize = 256;\nSHA256.hmacStrength = 192;\nSHA256.padLength = 64;\n\nSHA256.prototype._update = function _update(msg, start) {\n  var W = this.W;\n\n  for (var i = 0; i < 16; i++)\n    W[i] = msg[start + i];\n  for (; i < W.length; i++)\n    W[i] = sum32_4(g1_256(W[i - 2]), W[i - 7], g0_256(W[i - 15]), W[i - 16]);\n\n  var a = this.h[0];\n  var b = this.h[1];\n  var c = this.h[2];\n  var d = this.h[3];\n  var e = this.h[4];\n  var f = this.h[5];\n  var g = this.h[6];\n  var h = this.h[7];\n\n  assert(this.k.length === W.length);\n  for (i = 0; i < W.length; i++) {\n    var T1 = sum32_5(h, s1_256(e), ch32(e, f, g), this.k[i], W[i]);\n    var T2 = sum32(s0_256(a), maj32(a, b, c));\n    h = g;\n    g = f;\n    f = e;\n    e = sum32(d, T1);\n    d = c;\n    c = b;\n    b = a;\n    a = sum32(T1, T2);\n  }\n\n  this.h[0] = sum32(this.h[0], a);\n  this.h[1] = sum32(this.h[1], b);\n  this.h[2] = sum32(this.h[2], c);\n  this.h[3] = sum32(this.h[3], d);\n  this.h[4] = sum32(this.h[4], e);\n  this.h[5] = sum32(this.h[5], f);\n  this.h[6] = sum32(this.h[6], g);\n  this.h[7] = sum32(this.h[7], h);\n};\n\nSHA256.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n","import Promise from \"promise\";\nimport { miniAuth } from \"miniapp-auth\";\nimport sha256 from \"hash.js/lib/hash/sha/256\";\n\nexport const MODULE_NAME = \"mini-auth-v1\";\n\nlet auth = null;\n\nexport function creatMiniAuth(\n  { appid, env, url, appKey, appCode, headers } = { env: \"weapp\" },\n) {\n  if (auth) {\n    return auth;\n  }\n\n  const tokenReqConfig = {\n    url,\n    method: \"POST\",\n    headers,\n  };\n\n  auth = miniAuth.create({\n    appid,\n    env,\n    tokenReqConfig,\n  });\n\n  auth.use(\"token\", (ctx, next) => {\n    const { jsCode } = ctx.tokenReqData;\n    if (jsCode) {\n      if (typeof wx !== \"undefined\" && wx) {\n        ctx.tokenReqData = {\n          js_code: jsCode,\n        };\n      }\n      if (typeof my !== \"undefined\" && my) {\n        ctx.tokenReqData = {\n          auth_code: jsCode,\n        };\n      }\n      tokenReqConfig.headers[\"Authorization-Sign\"] = sha256()\n        .update(`${appKey}${JSON.stringify(ctx.tokenReqData)}${appCode}`)\n        .digest(\"hex\");\n      auth.setTokenReqConfig(\"headers\", tokenReqConfig.headers);\n    }\n    next();\n  });\n  auth.use(\"afterToken\", (ctx, next) => {\n    const {\n      data = {},\n      retcode,\n      msg,\n      code,\n    } = ctx.tokenResData.data;\n    if (retcode === 200 || code === 200) {\n      ctx.tokenResData = data;\n      return next();\n    }\n    return next({\n      retcode: retcode || code,\n      msg,\n      data,\n    });\n  });\n\n  return auth;\n}\n\nexport function getToken(opts = {}) {\n  const maxRetry = 3;\n\n  return new Promise((resolve, reject) => {\n    function selfGetToken(retry) {\n      auth\n        .getToken(opts)\n        .then((res) => {\n          resolve(res);\n        })\n        .catch((err) => {\n          if (err.errCode === 5001 || err.errCode === 5002) {\n            if (retry >= maxRetry) {\n              reject(err);\n            } else {\n              setTimeout(() => {\n                selfGetToken(retry + 1);\n              }, 2000);\n            }\n          } else {\n            reject(err);\n          }\n        });\n    }\n    selfGetToken(0);\n  });\n}\n"],"names":["assert","val","msg","Error","equal","l","r","global","setTimeout","clearTimeout","performance","now","mozNow","msNow","oNow","webkitNow","Object","create","ctor","superCtor","super_","prototype","constructor","value","enumerable","writable","configurable","TempCtor","formatRegExp","format","f","isString","objects","i","arguments","length","push","inspect","join","args","len","str","String","replace","x","Number","JSON","stringify","_","isNull","isObject","debugEnviron","debugs","obj","opts","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","isFunction","ret","primitive","simple","isNumber","formatPrimitive","keys","visibleKeys","array","hash","forEach","idx","arrayToHash","getOwnPropertyNames","isError","indexOf","formatError","name","isRegExp","RegExp","toString","call","isDate","Date","output","base","braces","isArray","toUTCString","hasOwnProperty","formatProperty","key","match","formatArray","map","pop","reduce","prev","cur","reduceToSingleString","desc","getOwnPropertyDescriptor","get","set","split","line","substr","ar","Array","arg","re","objectToString","d","e","o","pad","n","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","boolean","undefined","null","string","date","regexp","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","origin","add","prop","inherits","log","console","apply","isBuffer","maybeBuf","Buffer","isPrimitive","isSymbol","isNullOrUndefined","deprecate","fn","process","this","warned","error","debuglog","toUpperCase","test","module","isSurrogatePair","charCodeAt","htonl","w","zero2","word","zero8","util","require$$0","require$$1","enc","slice","res","parseInt","p","c","endian","start","end","k","m","b","a","buf","pos","ah","al","bh","lo","hi","bl","ch","cl","dh","dl","carry","eh","el","num","BlockHash","pending","pendingTotal","blockSize","outSize","hmacStrength","padLength","_delta8","_delta32","update","utils","toArray","concat","join32","_update","digest","_pad","_digest","bytes","t","rotr32","ch32","y","z","maj32","p32","s","sum32","sum32_4","sum32_5","shaCommon","s0_256","s1_256","g0_256","g1_256","common","sha256_K","SHA256","h","W","g","T1","T2","toHex32","split32","auth","env","appid","url","appKey","appCode","headers","tokenReqConfig","method","miniAuth","use","next","jsCode","tokenReqData","wx","js_code","my","auth_code","sha256","setTokenReqConfig","tokenResData","data","retcode","code","Promise","resolve","reject","selfGetToken","retry","getToken","then","err","errCode"],"mappings":"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"}